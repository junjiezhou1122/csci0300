"use strict";var Ei=Object.create;var Ge=Object.defineProperty;var vi=Object.getOwnPropertyDescriptor;var Si=Object.getOwnPropertyNames;var Ti=Object.getPrototypeOf,Mi=Object.prototype.hasOwnProperty;var u=(n,e)=>Ge(n,"name",{value:e,configurable:!0});var x=(n,e)=>()=>(n&&(e=n(n=0)),e);var N=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),xi=(n,e)=>{for(var t in e)Ge(n,t,{get:e[t],enumerable:!0})},to=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Si(e))!Mi.call(n,i)&&i!==t&&Ge(n,i,{get:()=>e[i],enumerable:!(r=vi(e,i))||r.enumerable});return n};var Ze=(n,e,t)=>(t=n!=null?Ei(Ti(n)):{},to(e||!n||!n.__esModule?Ge(t,"default",{value:n,enumerable:!0}):t,n)),Ii=n=>to(Ge({},"__esModule",{value:!0}),n);var ro=N(bn=>{var no="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");bn.encode=function(n){if(0<=n&&n<no.length)return no[n];throw new TypeError("Must be between 0 and 63: "+n)};bn.decode=function(n){var e=65,t=90,r=97,i=122,l=48,o=57,s=43,a=47,c=26,d=52;return e<=n&&n<=t?n-e:r<=n&&n<=i?n-r+c:l<=n&&n<=o?n-l+d:n==s?62:n==a?63:-1}});var En=N(wn=>{var oo=ro(),yn=5,so=1<<yn,io=so-1,ao=so;function Li(n){return n<0?(-n<<1)+1:(n<<1)+0}u(Li,"toVLQSigned");function ki(n){var e=(n&1)===1,t=n>>1;return e?-t:t}u(ki,"fromVLQSigned");wn.encode=u(function(e){var t="",r,i=Li(e);do r=i&io,i>>>=yn,i>0&&(r|=ao),t+=oo.encode(r);while(i>0);return t},"base64VLQ_encode");wn.decode=u(function(e,t,r){var i=e.length,l=0,o=0,s,a;do{if(t>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(a=oo.decode(e.charCodeAt(t++)),a===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(a&ao),a&=io,l=l+(a<<o),o+=yn}while(s);r.value=ki(l),r.rest=t},"base64VLQ_decode")});var Pe=N(B=>{function Pi(n,e,t){if(e in n)return n[e];if(arguments.length===3)return t;throw new Error('"'+e+'" is a required argument.')}u(Pi,"getArg");B.getArg=Pi;var lo=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Ni=/^data:.+\,.+$/;function $e(n){var e=n.match(lo);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}u($e,"urlParse");B.urlParse=$e;function Le(n){var e="";return n.scheme&&(e+=n.scheme+":"),e+="//",n.auth&&(e+=n.auth+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port),n.path&&(e+=n.path),e}u(Le,"urlGenerate");B.urlGenerate=Le;function vn(n){var e=n,t=$e(n);if(t){if(!t.path)return n;e=t.path}for(var r=B.isAbsolute(e),i=e.split(/\/+/),l,o=0,s=i.length-1;s>=0;s--)l=i[s],l==="."?i.splice(s,1):l===".."?o++:o>0&&(l===""?(i.splice(s+1,o),o=0):(i.splice(s,2),o--));return e=i.join("/"),e===""&&(e=r?"/":"."),t?(t.path=e,Le(t)):e}u(vn,"normalize");B.normalize=vn;function uo(n,e){n===""&&(n="."),e===""&&(e=".");var t=$e(e),r=$e(n);if(r&&(n=r.path||"/"),t&&!t.scheme)return r&&(t.scheme=r.scheme),Le(t);if(t||e.match(Ni))return e;if(r&&!r.host&&!r.path)return r.host=e,Le(r);var i=e.charAt(0)==="/"?e:vn(n.replace(/\/+$/,"")+"/"+e);return r?(r.path=i,Le(r)):i}u(uo,"join");B.join=uo;B.isAbsolute=function(n){return n.charAt(0)==="/"||lo.test(n)};function Ci(n,e){n===""&&(n="."),n=n.replace(/\/$/,"");for(var t=0;e.indexOf(n+"/")!==0;){var r=n.lastIndexOf("/");if(r<0||(n=n.slice(0,r),n.match(/^([^\/]+:\/)?\/*$/)))return e;++t}return Array(t+1).join("../")+e.substr(n.length+1)}u(Ci,"relative");B.relative=Ci;var co=function(){var n=Object.create(null);return!("__proto__"in n)}();function _o(n){return n}u(_o,"identity");function Ai(n){return fo(n)?"$"+n:n}u(Ai,"toSetString");B.toSetString=co?_o:Ai;function Fi(n){return fo(n)?n.slice(1):n}u(Fi,"fromSetString");B.fromSetString=co?_o:Fi;function fo(n){if(!n)return!1;var e=n.length;if(e<9||n.charCodeAt(e-1)!==95||n.charCodeAt(e-2)!==95||n.charCodeAt(e-3)!==111||n.charCodeAt(e-4)!==116||n.charCodeAt(e-5)!==111||n.charCodeAt(e-6)!==114||n.charCodeAt(e-7)!==112||n.charCodeAt(e-8)!==95||n.charCodeAt(e-9)!==95)return!1;for(var t=e-10;t>=0;t--)if(n.charCodeAt(t)!==36)return!1;return!0}u(fo,"isProtoString");function Oi(n,e,t){var r=ke(n.source,e.source);return r!==0||(r=n.originalLine-e.originalLine,r!==0)||(r=n.originalColumn-e.originalColumn,r!==0||t)||(r=n.generatedColumn-e.generatedColumn,r!==0)||(r=n.generatedLine-e.generatedLine,r!==0)?r:ke(n.name,e.name)}u(Oi,"compareByOriginalPositions");B.compareByOriginalPositions=Oi;function Ri(n,e,t){var r=n.generatedLine-e.generatedLine;return r!==0||(r=n.generatedColumn-e.generatedColumn,r!==0||t)||(r=ke(n.source,e.source),r!==0)||(r=n.originalLine-e.originalLine,r!==0)||(r=n.originalColumn-e.originalColumn,r!==0)?r:ke(n.name,e.name)}u(Ri,"compareByGeneratedPositionsDeflated");B.compareByGeneratedPositionsDeflated=Ri;function ke(n,e){return n===e?0:n===null?1:e===null?-1:n>e?1:-1}u(ke,"strcmp");function Di(n,e){var t=n.generatedLine-e.generatedLine;return t!==0||(t=n.generatedColumn-e.generatedColumn,t!==0)||(t=ke(n.source,e.source),t!==0)||(t=n.originalLine-e.originalLine,t!==0)||(t=n.originalColumn-e.originalColumn,t!==0)?t:ke(n.name,e.name)}u(Di,"compareByGeneratedPositionsInflated");B.compareByGeneratedPositionsInflated=Di;function Bi(n){return JSON.parse(n.replace(/^\)]}'[^\n]*\n/,""))}u(Bi,"parseSourceMapInput");B.parseSourceMapInput=Bi;function Ui(n,e,t){if(e=e||"",n&&(n[n.length-1]!=="/"&&e[0]!=="/"&&(n+="/"),e=n+e),t){var r=$e(t);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var i=r.path.lastIndexOf("/");i>=0&&(r.path=r.path.substring(0,i+1))}e=uo(Le(r),e)}return vn(e)}u(Ui,"computeSourceURL");B.computeSourceURL=Ui});var Mn=N(po=>{var Sn=Pe(),Tn=Object.prototype.hasOwnProperty,he=typeof Map<"u";function se(){this._array=[],this._set=he?new Map:Object.create(null)}u(se,"ArraySet");se.fromArray=u(function(e,t){for(var r=new se,i=0,l=e.length;i<l;i++)r.add(e[i],t);return r},"ArraySet_fromArray");se.prototype.size=u(function(){return he?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");se.prototype.add=u(function(e,t){var r=he?e:Sn.toSetString(e),i=he?this.has(e):Tn.call(this._set,r),l=this._array.length;(!i||t)&&this._array.push(e),i||(he?this._set.set(e,l):this._set[r]=l)},"ArraySet_add");se.prototype.has=u(function(e){if(he)return this._set.has(e);var t=Sn.toSetString(e);return Tn.call(this._set,t)},"ArraySet_has");se.prototype.indexOf=u(function(e){if(he){var t=this._set.get(e);if(t>=0)return t}else{var r=Sn.toSetString(e);if(Tn.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},"ArraySet_indexOf");se.prototype.at=u(function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},"ArraySet_at");se.prototype.toArray=u(function(){return this._array.slice()},"ArraySet_toArray");po.ArraySet=se});var go=N(ho=>{var mo=Pe();function Wi(n,e){var t=n.generatedLine,r=e.generatedLine,i=n.generatedColumn,l=e.generatedColumn;return r>t||r==t&&l>=i||mo.compareByGeneratedPositionsInflated(n,e)<=0}u(Wi,"generatedPositionAfter");function gt(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}u(gt,"MappingList");gt.prototype.unsortedForEach=u(function(e,t){this._array.forEach(e,t)},"MappingList_forEach");gt.prototype.add=u(function(e){Wi(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},"MappingList_add");gt.prototype.toArray=u(function(){return this._sorted||(this._array.sort(mo.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");ho.MappingList=gt});var xn=N(bo=>{var Ke=En(),F=Pe(),bt=Mn().ArraySet,zi=go().MappingList;function H(n){n||(n={}),this._file=F.getArg(n,"file",null),this._sourceRoot=F.getArg(n,"sourceRoot",null),this._skipValidation=F.getArg(n,"skipValidation",!1),this._sources=new bt,this._names=new bt,this._mappings=new zi,this._sourcesContents=null}u(H,"SourceMapGenerator");H.prototype._version=3;H.fromSourceMap=u(function(e){var t=e.sourceRoot,r=new H({file:e.file,sourceRoot:t});return e.eachMapping(function(i){var l={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(l.source=i.source,t!=null&&(l.source=F.relative(t,l.source)),l.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(l.name=i.name)),r.addMapping(l)}),e.sources.forEach(function(i){var l=i;t!==null&&(l=F.relative(t,i)),r._sources.has(l)||r._sources.add(l);var o=e.sourceContentFor(i);o!=null&&r.setSourceContent(i,o)}),r},"SourceMapGenerator_fromSourceMap");H.prototype.addMapping=u(function(e){var t=F.getArg(e,"generated"),r=F.getArg(e,"original",null),i=F.getArg(e,"source",null),l=F.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,i,l),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:i,name:l})},"SourceMapGenerator_addMapping");H.prototype.setSourceContent=u(function(e,t){var r=e;this._sourceRoot!=null&&(r=F.relative(this._sourceRoot,r)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[F.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[F.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");H.prototype.applySourceMap=u(function(e,t,r){var i=t;if(t==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var l=this._sourceRoot;l!=null&&(i=F.relative(l,i));var o=new bt,s=new bt;this._mappings.unsortedForEach(function(a){if(a.source===i&&a.originalLine!=null){var c=e.originalPositionFor({line:a.originalLine,column:a.originalColumn});c.source!=null&&(a.source=c.source,r!=null&&(a.source=F.join(r,a.source)),l!=null&&(a.source=F.relative(l,a.source)),a.originalLine=c.line,a.originalColumn=c.column,c.name!=null&&(a.name=c.name))}var d=a.source;d!=null&&!o.has(d)&&o.add(d);var _=a.name;_!=null&&!s.has(_)&&s.add(_)},this),this._sources=o,this._names=s,e.sources.forEach(function(a){var c=e.sourceContentFor(a);c!=null&&(r!=null&&(a=F.join(r,a)),l!=null&&(a=F.relative(l,a)),this.setSourceContent(a,c))},this)},"SourceMapGenerator_applySourceMap");H.prototype._validateMapping=u(function(e,t,r,i){if(t&&typeof t.line!="number"&&typeof t.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!i)){if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:i}))}},"SourceMapGenerator_validateMapping");H.prototype._serializeMappings=u(function(){for(var e=0,t=1,r=0,i=0,l=0,o=0,s="",a,c,d,_,f=this._mappings.toArray(),p=0,m=f.length;p<m;p++){if(c=f[p],a="",c.generatedLine!==t)for(e=0;c.generatedLine!==t;)a+=";",t++;else if(p>0){if(!F.compareByGeneratedPositionsInflated(c,f[p-1]))continue;a+=","}a+=Ke.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(_=this._sources.indexOf(c.source),a+=Ke.encode(_-o),o=_,a+=Ke.encode(c.originalLine-1-i),i=c.originalLine-1,a+=Ke.encode(c.originalColumn-r),r=c.originalColumn,c.name!=null&&(d=this._names.indexOf(c.name),a+=Ke.encode(d-l),l=d)),s+=a}return s},"SourceMapGenerator_serializeMappings");H.prototype._generateSourcesContent=u(function(e,t){return e.map(function(r){if(!this._sourcesContents)return null;t!=null&&(r=F.relative(t,r));var i=F.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");H.prototype.toJSON=u(function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},"SourceMapGenerator_toJSON");H.prototype.toString=u(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");bo.SourceMapGenerator=H});var yo=N(ge=>{ge.GREATEST_LOWER_BOUND=1;ge.LEAST_UPPER_BOUND=2;function In(n,e,t,r,i,l){var o=Math.floor((e-n)/2)+n,s=i(t,r[o],!0);return s===0?o:s>0?e-o>1?In(o,e,t,r,i,l):l==ge.LEAST_UPPER_BOUND?e<r.length?e:-1:o:o-n>1?In(n,o,t,r,i,l):l==ge.LEAST_UPPER_BOUND?o:n<0?-1:n}u(In,"recursiveSearch");ge.search=u(function(e,t,r,i){if(t.length===0)return-1;var l=In(-1,t.length,e,t,r,i||ge.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&r(t[l],t[l-1],!0)===0;)--l;return l},"search")});var Eo=N(wo=>{function Ln(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}u(Ln,"swap");function Hi(n,e){return Math.round(n+Math.random()*(e-n))}u(Hi,"randomIntInRange");function kn(n,e,t,r){if(t<r){var i=Hi(t,r),l=t-1;Ln(n,i,r);for(var o=n[r],s=t;s<r;s++)e(n[s],o)<=0&&(l+=1,Ln(n,l,s));Ln(n,l+1,s);var a=l+1;kn(n,e,t,a-1),kn(n,e,a+1,r)}}u(kn,"doQuickSort");wo.quickSort=function(n,e){kn(n,e,0,n.length-1)}});var So=N(yt=>{var E=Pe(),Pn=yo(),Ne=Mn().ArraySet,Vi=En(),Xe=Eo().quickSort;function k(n,e){var t=n;return typeof n=="string"&&(t=E.parseSourceMapInput(n)),t.sections!=null?new j(t,e):new D(t,e)}u(k,"SourceMapConsumer");k.fromSourceMap=function(n,e){return D.fromSourceMap(n,e)};k.prototype._version=3;k.prototype.__generatedMappings=null;Object.defineProperty(k.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});k.prototype.__originalMappings=null;Object.defineProperty(k.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});k.prototype._charIsMappingSeparator=u(function(e,t){var r=e.charAt(t);return r===";"||r===","},"SourceMapConsumer_charIsMappingSeparator");k.prototype._parseMappings=u(function(e,t){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");k.GENERATED_ORDER=1;k.ORIGINAL_ORDER=2;k.GREATEST_LOWER_BOUND=1;k.LEAST_UPPER_BOUND=2;k.prototype.eachMapping=u(function(e,t,r){var i=t||null,l=r||k.GENERATED_ORDER,o;switch(l){case k.GENERATED_ORDER:o=this._generatedMappings;break;case k.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map(function(a){var c=a.source===null?null:this._sources.at(a.source);return c=E.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:a.name===null?null:this._names.at(a.name)}},this).forEach(e,i)},"SourceMapConsumer_eachMapping");k.prototype.allGeneratedPositionsFor=u(function(e){var t=E.getArg(e,"line"),r={source:E.getArg(e,"source"),originalLine:t,originalColumn:E.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var i=[],l=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",E.compareByOriginalPositions,Pn.LEAST_UPPER_BOUND);if(l>=0){var o=this._originalMappings[l];if(e.column===void 0)for(var s=o.originalLine;o&&o.originalLine===s;)i.push({line:E.getArg(o,"generatedLine",null),column:E.getArg(o,"generatedColumn",null),lastColumn:E.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++l];else for(var a=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==a;)i.push({line:E.getArg(o,"generatedLine",null),column:E.getArg(o,"generatedColumn",null),lastColumn:E.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++l]}return i},"SourceMapConsumer_allGeneratedPositionsFor");yt.SourceMapConsumer=k;function D(n,e){var t=n;typeof n=="string"&&(t=E.parseSourceMapInput(n));var r=E.getArg(t,"version"),i=E.getArg(t,"sources"),l=E.getArg(t,"names",[]),o=E.getArg(t,"sourceRoot",null),s=E.getArg(t,"sourcesContent",null),a=E.getArg(t,"mappings"),c=E.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o&&(o=E.normalize(o)),i=i.map(String).map(E.normalize).map(function(d){return o&&E.isAbsolute(o)&&E.isAbsolute(d)?E.relative(o,d):d}),this._names=Ne.fromArray(l.map(String),!0),this._sources=Ne.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(d){return E.computeSourceURL(o,d,e)}),this.sourceRoot=o,this.sourcesContent=s,this._mappings=a,this._sourceMapURL=e,this.file=c}u(D,"BasicSourceMapConsumer");D.prototype=Object.create(k.prototype);D.prototype.consumer=k;D.prototype._findSourceIndex=function(n){var e=n;if(this.sourceRoot!=null&&(e=E.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==n)return t;return-1};D.fromSourceMap=u(function(e,t){var r=Object.create(D.prototype),i=r._names=Ne.fromArray(e._names.toArray(),!0),l=r._sources=Ne.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map(function(p){return E.computeSourceURL(r.sourceRoot,p,t)});for(var o=e._mappings.toArray().slice(),s=r.__generatedMappings=[],a=r.__originalMappings=[],c=0,d=o.length;c<d;c++){var _=o[c],f=new vo;f.generatedLine=_.generatedLine,f.generatedColumn=_.generatedColumn,_.source&&(f.source=l.indexOf(_.source),f.originalLine=_.originalLine,f.originalColumn=_.originalColumn,_.name&&(f.name=i.indexOf(_.name)),a.push(f)),s.push(f)}return Xe(r.__originalMappings,E.compareByOriginalPositions),r},"SourceMapConsumer_fromSourceMap");D.prototype._version=3;Object.defineProperty(D.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function vo(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u(vo,"Mapping");D.prototype._parseMappings=u(function(e,t){for(var r=1,i=0,l=0,o=0,s=0,a=0,c=e.length,d=0,_={},f={},p=[],m=[],h,g,b,T,w;d<c;)if(e.charAt(d)===";")r++,d++,i=0;else if(e.charAt(d)===",")d++;else{for(h=new vo,h.generatedLine=r,T=d;T<c&&!this._charIsMappingSeparator(e,T);T++);if(g=e.slice(d,T),b=_[g],b)d+=g.length;else{for(b=[];d<T;)Vi.decode(e,d,f),w=f.value,d=f.rest,b.push(w);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");_[g]=b}h.generatedColumn=i+b[0],i=h.generatedColumn,b.length>1&&(h.source=s+b[1],s+=b[1],h.originalLine=l+b[2],l=h.originalLine,h.originalLine+=1,h.originalColumn=o+b[3],o=h.originalColumn,b.length>4&&(h.name=a+b[4],a+=b[4])),m.push(h),typeof h.originalLine=="number"&&p.push(h)}Xe(m,E.compareByGeneratedPositionsDeflated),this.__generatedMappings=m,Xe(p,E.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");D.prototype._findMapping=u(function(e,t,r,i,l,o){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return Pn.search(e,t,l,o)},"SourceMapConsumer_findMapping");D.prototype.computeColumnSpans=u(function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");D.prototype.originalPositionFor=u(function(e){var t={generatedLine:E.getArg(e,"line"),generatedColumn:E.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",E.compareByGeneratedPositionsDeflated,E.getArg(e,"bias",k.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var l=E.getArg(i,"source",null);l!==null&&(l=this._sources.at(l),l=E.computeSourceURL(this.sourceRoot,l,this._sourceMapURL));var o=E.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:l,line:E.getArg(i,"originalLine",null),column:E.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");D.prototype.hasContentsOfAllSources=u(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");D.prototype.sourceContentFor=u(function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i=e;this.sourceRoot!=null&&(i=E.relative(this.sourceRoot,i));var l;if(this.sourceRoot!=null&&(l=E.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(l.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!l.path||l.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");D.prototype.generatedPositionFor=u(function(e){var t=E.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:E.getArg(e,"line"),originalColumn:E.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",E.compareByOriginalPositions,E.getArg(e,"bias",k.GREATEST_LOWER_BOUND));if(i>=0){var l=this._originalMappings[i];if(l.source===r.source)return{line:E.getArg(l,"generatedLine",null),column:E.getArg(l,"generatedColumn",null),lastColumn:E.getArg(l,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");yt.BasicSourceMapConsumer=D;function j(n,e){var t=n;typeof n=="string"&&(t=E.parseSourceMapInput(n));var r=E.getArg(t,"version"),i=E.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Ne,this._names=new Ne;var l={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var s=E.getArg(o,"offset"),a=E.getArg(s,"line"),c=E.getArg(s,"column");if(a<l.line||a===l.line&&c<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=s,{generatedOffset:{generatedLine:a+1,generatedColumn:c+1},consumer:new k(E.getArg(o,"map"),e)}})}u(j,"IndexedSourceMapConsumer");j.prototype=Object.create(k.prototype);j.prototype.constructor=k;j.prototype._version=3;Object.defineProperty(j.prototype,"sources",{get:function(){for(var n=[],e=0;e<this._sections.length;e++)for(var t=0;t<this._sections[e].consumer.sources.length;t++)n.push(this._sections[e].consumer.sources[t]);return n}});j.prototype.originalPositionFor=u(function(e){var t={generatedLine:E.getArg(e,"line"),generatedColumn:E.getArg(e,"column")},r=Pn.search(t,this._sections,function(l,o){var s=l.generatedLine-o.generatedOffset.generatedLine;return s||l.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");j.prototype.hasContentsOfAllSources=u(function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");j.prototype.sourceContentFor=u(function(e,t){for(var r=0;r<this._sections.length;r++){var i=this._sections[r],l=i.consumer.sourceContentFor(e,!0);if(l)return l}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");j.prototype.generatedPositionFor=u(function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(r.consumer._findSourceIndex(E.getArg(e,"source"))!==-1){var i=r.consumer.generatedPositionFor(e);if(i){var l={line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)};return l}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");j.prototype._parseMappings=u(function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],l=i.consumer._generatedMappings,o=0;o<l.length;o++){var s=l[o],a=i.consumer._sources.at(s.source);a=E.computeSourceURL(i.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var c=null;s.name&&(c=i.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var d={source:a,generatedLine:s.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(i.generatedOffset.generatedLine===s.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}Xe(this.__generatedMappings,E.compareByGeneratedPositionsDeflated),Xe(this.__originalMappings,E.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");yt.IndexedSourceMapConsumer=j});var Mo=N(To=>{var ji=xn().SourceMapGenerator,wt=Pe(),qi=/(\r?\n)/,Gi=10,Ce="$$$isSourceNode$$$";function W(n,e,t,r,i){this.children=[],this.sourceContents={},this.line=n==null?null:n,this.column=e==null?null:e,this.source=t==null?null:t,this.name=i==null?null:i,this[Ce]=!0,r!=null&&this.add(r)}u(W,"SourceNode");W.fromStringWithSourceMap=u(function(e,t,r){var i=new W,l=e.split(qi),o=0,s=u(function(){var f=m(),p=m()||"";return f+p;function m(){return o<l.length?l[o++]:void 0}},"shiftNextLine"),a=1,c=0,d=null;return t.eachMapping(function(f){if(d!==null)if(a<f.generatedLine)_(d,s()),a++,c=0;else{var p=l[o]||"",m=p.substr(0,f.generatedColumn-c);l[o]=p.substr(f.generatedColumn-c),c=f.generatedColumn,_(d,m),d=f;return}for(;a<f.generatedLine;)i.add(s()),a++;if(c<f.generatedColumn){var p=l[o]||"";i.add(p.substr(0,f.generatedColumn)),l[o]=p.substr(f.generatedColumn),c=f.generatedColumn}d=f},this),o<l.length&&(d&&_(d,s()),i.add(l.splice(o).join(""))),t.sources.forEach(function(f){var p=t.sourceContentFor(f);p!=null&&(r!=null&&(f=wt.join(r,f)),i.setSourceContent(f,p))}),i;function _(f,p){if(f===null||f.source===void 0)i.add(p);else{var m=r?wt.join(r,f.source):f.source;i.add(new W(f.originalLine,f.originalColumn,m,p,f.name))}}u(_,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");W.prototype.add=u(function(e){if(Array.isArray(e))e.forEach(function(t){this.add(t)},this);else if(e[Ce]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_add");W.prototype.prepend=u(function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[Ce]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_prepend");W.prototype.walk=u(function(e){for(var t,r=0,i=this.children.length;r<i;r++)t=this.children[r],t[Ce]?t.walk(e):t!==""&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");W.prototype.join=u(function(e){var t,r,i=this.children.length;if(i>0){for(t=[],r=0;r<i-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},"SourceNode_join");W.prototype.replaceRight=u(function(e,t){var r=this.children[this.children.length-1];return r[Ce]?r.replaceRight(e,t):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},"SourceNode_replaceRight");W.prototype.setSourceContent=u(function(e,t){this.sourceContents[wt.toSetString(e)]=t},"SourceNode_setSourceContent");W.prototype.walkSourceContents=u(function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][Ce]&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,r=i.length;t<r;t++)e(wt.fromSetString(i[t]),this.sourceContents[i[t]])},"SourceNode_walkSourceContents");W.prototype.toString=u(function(){var e="";return this.walk(function(t){e+=t}),e},"SourceNode_toString");W.prototype.toStringWithSourceMap=u(function(e){var t={code:"",line:1,column:0},r=new ji(e),i=!1,l=null,o=null,s=null,a=null;return this.walk(function(c,d){t.code+=c,d.source!==null&&d.line!==null&&d.column!==null?((l!==d.source||o!==d.line||s!==d.column||a!==d.name)&&r.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:t.line,column:t.column},name:d.name}),l=d.source,o=d.line,s=d.column,a=d.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),l=null,i=!1);for(var _=0,f=c.length;_<f;_++)c.charCodeAt(_)===Gi?(t.line++,t.column=0,_+1===f?(l=null,i=!1):i&&r.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:t.line,column:t.column},name:d.name})):t.column++}),this.walkSourceContents(function(c,d){r.setSourceContent(c,d)}),{code:t.code,map:r}},"SourceNode_toStringWithSourceMap");To.SourceNode=W});var xo=N(Et=>{Et.SourceMapGenerator=xn().SourceMapGenerator;Et.SourceMapConsumer=So().SourceMapConsumer;Et.SourceNode=Mo().SourceNode});var Lo=N((ru,Io)=>{var Zi=Object.prototype.toString,Nn=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function $i(n){return Zi.call(n).slice(8,-1)==="ArrayBuffer"}u($i,"isArrayBuffer");function Ki(n,e,t){e>>>=0;var r=n.byteLength-e;if(r<0)throw new RangeError("'offset' is out of bounds");if(t===void 0)t=r;else if(t>>>=0,t>r)throw new RangeError("'length' is out of bounds");return Nn?Buffer.from(n.slice(e,e+t)):new Buffer(new Uint8Array(n.slice(e,e+t)))}u(Ki,"fromArrayBuffer");function Xi(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Nn?Buffer.from(n,e):new Buffer(n,e)}u(Xi,"fromString");function Ji(n,e,t){if(typeof n=="number")throw new TypeError('"value" argument must not be a number');return $i(n)?Ki(n,e,t):typeof n=="string"?Xi(n,e):Nn?Buffer.from(n):new Buffer(n)}u(Ji,"bufferFrom");Io.exports=Ji});var Ro=N((ye,On)=>{var Qi=xo().SourceMapConsumer,Cn=require("path"),X;try{X=require("fs"),(!X.existsSync||!X.readFileSync)&&(X=null)}catch{}var Yi=Lo();function ko(n,e){return n.require(e)}u(ko,"dynamicRequire");var Po=!1,No=!1,An=!1,Je="auto",be={},Qe={},ea=/^data:application\/json[^,]+base64,/,ae=[],le=[];function Rn(){return Je==="browser"?!0:Je==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}u(Rn,"isInBrowser");function ta(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}u(ta,"hasGlobalProcessEventEmitter");function na(){return typeof process=="object"&&process!==null?process.version:""}u(na,"globalProcessVersion");function ra(){if(typeof process=="object"&&process!==null)return process.stderr}u(ra,"globalProcessStderr");function oa(n){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(n)}u(oa,"globalProcessExit");function vt(n){return function(e){for(var t=0;t<n.length;t++){var r=n[t](e);if(r)return r}return null}}u(vt,"handlerExec");var Dn=vt(ae);ae.push(function(n){if(n=n.trim(),/^file:/.test(n)&&(n=n.replace(/file:\/\/\/(\w:)?/,function(r,i){return i?"":"/"})),n in be)return be[n];var e="";try{if(X)X.existsSync(n)&&(e=X.readFileSync(n,"utf8"));else{var t=new XMLHttpRequest;t.open("GET",n,!1),t.send(null),t.readyState===4&&t.status===200&&(e=t.responseText)}}catch{}return be[n]=e});function Fn(n,e){if(!n)return e;var t=Cn.dirname(n),r=/^\w+:\/\/[^\/]*/.exec(t),i=r?r[0]:"",l=t.slice(i.length);return i&&/^\/\w\:/.test(l)?(i+="/",i+Cn.resolve(t.slice(i.length),e).replace(/\\/g,"/")):i+Cn.resolve(t.slice(i.length),e)}u(Fn,"supportRelativeURL");function sa(n){var e;if(Rn())try{var t=new XMLHttpRequest;t.open("GET",n,!1),t.send(null),e=t.readyState===4?t.responseText:null;var r=t.getResponseHeader("SourceMap")||t.getResponseHeader("X-SourceMap");if(r)return r}catch{}e=Dn(n);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,l,o;o=i.exec(e);)l=o;return l?l[1]:null}u(sa,"retrieveSourceMapURL");var Bn=vt(le);le.push(function(n){var e=sa(n);if(!e)return null;var t;if(ea.test(e)){var r=e.slice(e.indexOf(",")+1);t=Yi(r,"base64").toString(),e=n}else e=Fn(n,e),t=Dn(e);return t?{url:e,map:t}:null});function Un(n){var e=Qe[n.source];if(!e){var t=Bn(n.source);t?(e=Qe[n.source]={url:t.url,map:new Qi(t.map)},e.map.sourcesContent&&e.map.sources.forEach(function(i,l){var o=e.map.sourcesContent[l];if(o){var s=Fn(e.url,i);be[s]=o}})):e=Qe[n.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var r=e.map.originalPositionFor(n);if(r.source!==null)return r.source=Fn(e.url,r.source),r}return n}u(Un,"mapSourcePosition");function Ao(n){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(n);if(e){var t=Un({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+t.source+":"+t.line+":"+(t.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(n),e?"eval at "+e[1]+" ("+Ao(e[2])+")":n}u(Ao,"mapEvalOrigin");function ia(){var n,e="";if(this.isNative())e="native";else{n=this.getScriptNameOrSourceURL(),!n&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),n?e+=n:e+="<anonymous>";var t=this.getLineNumber();if(t!=null){e+=":"+t;var r=this.getColumnNumber();r&&(e+=":"+r)}}var i="",l=this.getFunctionName(),o=!0,s=this.isConstructor(),a=!(this.isToplevel()||s);if(a){var c=this.getTypeName();c==="[object Object]"&&(c="null");var d=this.getMethodName();l?(c&&l.indexOf(c)!=0&&(i+=c+"."),i+=l,d&&l.indexOf("."+d)!=l.length-d.length-1&&(i+=" [as "+d+"]")):i+=c+"."+(d||"<anonymous>")}else s?i+="new "+(l||"<anonymous>"):l?i+=l:(i+=e,o=!1);return o&&(i+=" ("+e+")"),i}u(ia,"CallSiteToString");function Co(n){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(function(t){e[t]=/^(?:is|get)/.test(t)?function(){return n[t].call(n)}:n[t]}),e.toString=ia,e}u(Co,"cloneCallSite");function Fo(n,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),n.isNative())return e.curPosition=null,n;var t=n.getFileName()||n.getScriptNameOrSourceURL();if(t){var r=n.getLineNumber(),i=n.getColumnNumber()-1,l=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,o=l.test(na())?0:62;r===1&&i>o&&!Rn()&&!n.isEval()&&(i-=o);var s=Un({source:t,line:r,column:i});e.curPosition=s,n=Co(n);var a=n.getFunctionName;return n.getFunctionName=function(){return e.nextPosition==null?a():e.nextPosition.name||a()},n.getFileName=function(){return s.source},n.getLineNumber=function(){return s.line},n.getColumnNumber=function(){return s.column+1},n.getScriptNameOrSourceURL=function(){return s.source},n}var c=n.isEval()&&n.getEvalOrigin();return c&&(c=Ao(c),n=Co(n),n.getEvalOrigin=function(){return c}),n}u(Fo,"wrapCallSite");function aa(n,e){An&&(be={},Qe={});for(var t=n.name||"Error",r=n.message||"",i=t+": "+r,l={nextPosition:null,curPosition:null},o=[],s=e.length-1;s>=0;s--)o.push(`
    at `+Fo(e[s],l)),l.nextPosition=l.curPosition;return l.curPosition=l.nextPosition=null,i+o.reverse().join("")}u(aa,"prepareStackTrace");function Oo(n){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(n.stack);if(e){var t=e[1],r=+e[2],i=+e[3],l=be[t];if(!l&&X&&X.existsSync(t))try{l=X.readFileSync(t,"utf8")}catch{l=""}if(l){var o=l.split(/(?:\r\n|\r|\n)/)[r-1];if(o)return t+":"+r+`
`+o+`
`+new Array(i).join(" ")+"^"}}return null}u(Oo,"getErrorSource");function la(n){var e=Oo(n),t=ra();t&&t._handle&&t._handle.setBlocking&&t._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(n.stack),oa(1)}u(la,"printErrorAndExit");function ua(){var n=process.emit;process.emit=function(e){if(e==="uncaughtException"){var t=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(t&&!r)return la(arguments[1])}return n.apply(this,arguments)}}u(ua,"shimEmitUncaughtException");var ca=ae.slice(0),da=le.slice(0);ye.wrapCallSite=Fo;ye.getErrorSource=Oo;ye.mapSourcePosition=Un;ye.retrieveSourceMap=Bn;ye.install=function(n){if(n=n||{},n.environment&&(Je=n.environment,["node","browser","auto"].indexOf(Je)===-1))throw new Error("environment "+Je+" was unknown. Available options are {auto, browser, node}");if(n.retrieveFile&&(n.overrideRetrieveFile&&(ae.length=0),ae.unshift(n.retrieveFile)),n.retrieveSourceMap&&(n.overrideRetrieveSourceMap&&(le.length=0),le.unshift(n.retrieveSourceMap)),n.hookRequire&&!Rn()){var e=ko(On,"module"),t=e.prototype._compile;t.__sourceMapSupport||(e.prototype._compile=function(l,o){return be[o]=l,Qe[o]=void 0,t.call(this,l,o)},e.prototype._compile.__sourceMapSupport=!0)}if(An||(An="emptyCacheBetweenOperations"in n?n.emptyCacheBetweenOperations:!1),Po||(Po=!0,Error.prepareStackTrace=aa),!No){var r="handleUncaughtExceptions"in n?n.handleUncaughtExceptions:!0;try{var i=ko(On,"worker_threads");i.isMainThread===!1&&(r=!1)}catch{}r&&ta()&&(No=!0,ua())}};ye.resetRetrieveHandlers=function(){ae.length=0,le.length=0,ae=ca.slice(0),le=da.slice(0),Bn=vt(le),Dn=vt(ae)}});var Wn=N(()=>{Ro().install()});var Do=N(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.bytePairEncode=Q.BinaryMap=Q.binaryMapKey=void 0;var _a=u((n,e,t)=>{let r=t-e,i=16777215>>>Math.max(0,(3-r)*8),l=(n[e+0]|n[e+1]<<8|n[e+2]<<16)&i,o=16777215>>>Math.min(31,Math.max(0,(6-r)*8)),s=(n[e+3]|n[e+4]<<8|n[e+5]<<16)&o;return l+16777216*s},"binaryMapKey");Q.binaryMapKey=_a;var Ye=class Ye{constructor(){this.nested=new Map,this.final=new Map}get(e,t=0,r=e.length){var o;let i=r<6+t,l=(0,Q.binaryMapKey)(e,t,r);return i?this.final.get(l):(o=this.nested.get(l))==null?void 0:o.get(e,6+t,r)}set(e,t){let r=(0,Q.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(r,t);return}let l=this.nested.get(r);if(l instanceof Ye)l.set(e.subarray(6),t);else{let o=new Ye;o.set(e.subarray(6),t),this.nested.set(r,o)}}};u(Ye,"BinaryMap");var zn=Ye;Q.BinaryMap=zn;var J=new Int32Array(128),U=new Int32Array(128);function fa(n,e,t){var a;if(t===1)return[e.get(n)];let r=2147483647,i=-1;for(;J.length<t*2;)U=new Int32Array(U.length*2),J=new Int32Array(J.length*2);for(let c=0;c<t-1;c++){let d=(a=e.get(n,c,c+2))!=null?a:2147483647;d<r&&(r=d,i=c),U[c]=c,J[c]=d}U[t-1]=t-1,J[t-1]=2147483647,U[t]=t,J[t]=2147483647;let l=t+1;function o(c,d=0){if(c+d+2<l){let _=e.get(n,U[c],U[c+d+2]);if(_!==void 0)return _}return 2147483647}for(u(o,"getRank");r!==2147483647;){J[U[i]]=o(i,1),i>0&&(J[U[i-1]]=o(i-1,1));for(let c=i+1;c<l-1;c++)U[c]=U[c+1];l--,i=-1,r=2147483647;for(let c=0;c<l-1;c++){let d=J[U[c]];J[U[c]]<r&&(r=d,i=c)}}let s=[];for(let c=0;c<l-1;c++)s.push(e.get(n,U[c],U[c+1]));return s}u(fa,"bytePairEncode");Q.bytePairEncode=fa});var Bo=N(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.makeTextEncoder=void 0;var jn=class jn{constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let t=this.encoder.encode(e);return this.length=t.length,t}};u(jn,"UniversalTextEncoder");var Hn=jn,qn=class qn{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}};u(qn,"NodeTextEncoder");var Vn=qn,pa=u(()=>typeof Buffer<"u"?new Vn:new Hn,"makeTextEncoder");St.makeTextEncoder=pa});var Uo=N(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.LRUCache=void 0;var $n=class $n{constructor(e){this.size=e,this.nodes=new Map}get(e){let t=this.nodes.get(e);if(t)return this.moveToHead(t),t.value}set(e,t){let r=this.nodes.get(e);if(r)r.value=t,this.moveToHead(r);else{let i=new Zn(e,t);this.nodes.set(e,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};u($n,"LRUCache");var Gn=$n;Tt.LRUCache=Gn;var Kn=class Kn{constructor(e,t){this.key=e,this.value=t}};u(Kn,"Node");var Zn=Kn});var Qn=N(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.TikTokenizer=void 0;var ma=require("fs"),ha=require("util"),Mt=Do(),ga=Bo(),ba=Uo();function ya(n){let e=new Map;try{let r=ma.readFileSync(n,"utf-8");return t(r),e}catch(r){throw new Error(`Failed to load from BPE encoder file stream: ${r}`)}function t(r){for(let i of r.split(/[\r\n]+/)){if(i.trim()==="")continue;let l=i.split(" ");if(l.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let o=new Uint8Array(Buffer.from(l[0],"base64")),s=parseInt(l[1]);if(!isNaN(s))e.set(o,s);else throw new Error(`Can't parse ${l[1]} to integer`)}}u(t,"processBpeRanks")}u(ya,"loadTikTokenBpe");function wa(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}u(wa,"escapeRegExp");var Jn=class Jn{constructor(e,t,r,i=8192){this.textEncoder=(0,ga.makeTextEncoder)(),this.textDecoder=new ha.TextDecoder("utf-8"),this.cache=new ba.LRUCache(i);let l=ya(e);this.init(l,t,r)}init(e,t,r){this.encoder=new Mt.BinaryMap;for(let[i,l]of e)this.encoder.set(i,l);this.regex=new RegExp(r,"gu"),this.specialTokensRegex=new RegExp(Array.from(t.keys()).map(i=>wa(i)).join("|")),this.specialTokensEncoder=t,this.decoder=new Map;for(let[i,l]of e)this.decoder.set(l,i);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,l]of t)this.specialTokensDecoder.set(l,i)}findNextSpecialToken(e,t,r){let i=t,l=null;if(r&&this.specialTokensRegex)for(;l=e.slice(i).match(this.specialTokensRegex),!(!l||r&&r.includes(l[0]));)i+=l.index+1;let o=l?i+l.index:e.length;return[l,o]}encode(e,t){let r=[],i=0;for(;;){let l,o;if([l,o]=this.findNextSpecialToken(e,i,t),o>i&&this.encodeByIndex(e,r,i,o),l){if(i=i+this.encodeSpecialToken(r,l),i>=e.length)break}else break}return r}encodeSpecialToken(e,t){var i;let r=(i=this.specialTokensEncoder)==null?void 0:i.get(t[0]);return e.push(r),t.index+t[0].length}encodeByIndex(e,t,r,i){let l,o=e.substring(r,i);for(this.regex.lastIndex=0;l=this.regex.exec(o);){let s=this.cache.get(l[0]);if(s)for(let a of s)t.push(a);else{let a=this.textEncoder.encode(l[0]),c=this.encoder.get(a,0,this.textEncoder.length);if(c!==void 0)t.push(c),this.cache.set(l[0],[c]);else{let d=(0,Mt.bytePairEncode)(a,this.encoder,this.textEncoder.length);for(let _ of d)t.push(_);this.cache.set(l[0],d)}}}}encodeTrimSuffixByIndex(e,t,r,i,l,o,s){let a,c=e.substring(r,i);for(this.regex.lastIndex=0;a=this.regex.exec(c);){let d=a[0],_=this.cache.get(d);if(_)if(o+_.length<=l)o+=_.length,s+=d.length,t.push(..._);else{let f=l-o;o+=f,s+=d.length,t.push(..._.slice(0,f));break}else{let f=this.textEncoder.encode(d),p=this.encoder.get(f,0,f.length);if(p!==void 0)if(this.cache.set(d,[p]),o+1<=l)o++,s+=d.length,t.push(p);else break;else{let m=(0,Mt.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(d,m),o+m.length<=l){o+=m.length,s+=d.length;for(let h of m)t.push(h)}else{let h=l-o;o+=h,s+=d.length;for(let g=0;g<h;g++)t.push(m[g]);break}}}if(o>=l)break}return{tokenCount:o,encodeLength:s}}encodeTrimSuffix(e,t,r){let i=[],l=0,o=0,s=0;for(;;){let c,d;if([c,d]=this.findNextSpecialToken(e,l,r),d>l){let{tokenCount:_,encodeLength:f}=this.encodeTrimSuffixByIndex(e,i,l,d,t,o,s);if(o=_,s=f,o>=t)break}if(c!==null){if(o++,o<=t&&(l=l+this.encodeSpecialToken(i,c),s+=c[0].length,l>=e.length)||o>=t)break}else break}let a=s===e.length?e:e.slice(0,s);return{tokenIds:i,text:a}}encodeTrimPrefix(e,t,r){let i=[],l=0,o=0,s=0,a=new Map;for(a.set(o,s);;){let f,p;if([f,p]=this.findNextSpecialToken(e,l,r),p>l){let m,h=e.substring(l,p);for(this.regex.lastIndex=0;m=this.regex.exec(h);){let g=m[0],b=this.cache.get(g);if(b)o+=b.length,s+=g.length,i.push(...b),a.set(o,s);else{let T=this.textEncoder.encode(g),w=this.encoder.get(T);if(w!==void 0)this.cache.set(g,[w]),o++,s+=g.length,i.push(w),a.set(o,s);else{let v=(0,Mt.bytePairEncode)(T,this.encoder,this.textEncoder.length);this.cache.set(g,v),o+=v.length,s+=g.length;for(let S of v)i.push(S);a.set(o,s)}}}}if(f!==null){if(l=l+this.encodeSpecialToken(i,f),o++,s+=f[0].length,a.set(o,s),l>=e.length)break}else break}if(o<=t)return{tokenIds:i,text:e};let c=o-t,d=0,_=0;for(let[f,p]of a)if(f>=c){d=f,_=p;break}if(d>t){let f=this.encode(e,r),p=f.slice(f.length-t);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(d),text:e.slice(_)}}decode(e){var r,i;let t=[];for(let l of e){let o=[],s=(r=this.decoder)==null?void 0:r.get(l);if(s!==void 0)o=Array.from(s);else{let a=(i=this.specialTokensDecoder)==null?void 0:i.get(l);if(a!==void 0){let c=this.textEncoder.encode(a);o=Array.from(c.subarray(0,this.textEncoder.length))}}t.push(...o)}return this.textDecoder.decode(new Uint8Array(t))}};u(Jn,"TikTokenizer");var Xn=Jn;xt.TikTokenizer=Xn});var Ko=N(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.createTokenizer=O.createByEncoderName=O.createByModelName=O.getRegexByModel=O.getRegexByEncoder=O.getSpecialTokensByModel=O.getSpecialTokensByEncoder=O.MODEL_TO_ENCODING=void 0;var Lt=require("fs"),Yn=require("path"),Ea=Qn(),va=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);O.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var It="<|endoftext|>",Wo="<|fim_prefix|>",zo="<|fim_middle|>",Ho="<|fim_suffix|>",Vo="<|endofprompt|>",et="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",jo="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Sa=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],qo=Sa.join("|");function er(n){let e="";if(O.MODEL_TO_ENCODING.has(n))e=O.MODEL_TO_ENCODING.get(n);else for(let[t,r]of va)if(n.startsWith(t)){e=r;break}return e}u(er,"getEncoderFromModelName");async function Ta(n,e){let t=await fetch(n);if(!t.ok)throw new Error(`Failed to fetch file from ${n}. Status code: ${t.status}`);let r=await t.text();Lt.writeFileSync(e,r)}u(Ta,"fetchAndSaveFile");function tr(n){let e=new Map([[It,50256]]);switch(n){case"o200k_base":e=new Map([[It,199999],[Vo,200018]]);break;case"cl100k_base":e=new Map([[It,100257],[Wo,100258],[zo,100259],[Ho,100260],[Vo,100276]]);break;case"p50k_edit":e=new Map([[It,50256],[Wo,50281],[zo,50282],[Ho,50283]]);break;default:break}return e}u(tr,"getSpecialTokensByEncoder");O.getSpecialTokensByEncoder=tr;function Ma(n){let e=er(n);return tr(e)}u(Ma,"getSpecialTokensByModel");O.getSpecialTokensByModel=Ma;function Go(n){switch(n){case"o200k_base":return qo;case"cl100k_base":return jo;default:break}return et}u(Go,"getRegexByEncoder");O.getRegexByEncoder=Go;function xa(n){let e=er(n);return Go(e)}u(xa,"getRegexByModel");O.getRegexByModel=xa;async function Ia(n,e=null){return Zo(er(n),e)}u(Ia,"createByModelName");O.createByModelName=Ia;async function Zo(n,e=null){let t,r,i=tr(n);switch(n){case"o200k_base":t=qo,r="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":t=jo,r="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":t=et,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":t=et,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":t=et,r="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":t=et,r="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${n}]`)}e!==null&&(i=new Map([...i,...e]));let l=Yn.basename(r),o=Yn.resolve(__dirname,"..","model");Lt.existsSync(o)||Lt.mkdirSync(o,{recursive:!0});let s=Yn.resolve(o,l);return Lt.existsSync(s)||(console.log(`Downloading file from ${r}`),await Ta(r,s),console.log(`Saved file to ${s}`)),$o(s,i,t)}u(Zo,"createByEncoderName");O.createByEncoderName=Zo;function $o(n,e,t,r=8192){return new Ea.TikTokenizer(n,e,t,r)}u($o,"createTokenizer");O.createTokenizer=$o});var Xo=N(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.createTokenizer=R.createByEncoderName=R.createByModelName=R.getSpecialTokensByModel=R.getSpecialTokensByEncoder=R.getRegexByModel=R.getRegexByEncoder=R.MODEL_TO_ENCODING=R.TikTokenizer=void 0;var La=Qn();Object.defineProperty(R,"TikTokenizer",{enumerable:!0,get:function(){return La.TikTokenizer}});var ue=Ko();Object.defineProperty(R,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return ue.MODEL_TO_ENCODING}});Object.defineProperty(R,"getRegexByEncoder",{enumerable:!0,get:function(){return ue.getRegexByEncoder}});Object.defineProperty(R,"getRegexByModel",{enumerable:!0,get:function(){return ue.getRegexByModel}});Object.defineProperty(R,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return ue.getSpecialTokensByEncoder}});Object.defineProperty(R,"getSpecialTokensByModel",{enumerable:!0,get:function(){return ue.getSpecialTokensByModel}});Object.defineProperty(R,"createByModelName",{enumerable:!0,get:function(){return ue.createByModelName}});Object.defineProperty(R,"createByEncoderName",{enumerable:!0,get:function(){return ue.createByEncoderName}});Object.defineProperty(R,"createTokenizer",{enumerable:!0,get:function(){return ue.createTokenizer}})});function q(n="cl100k_base"){let e=Jo.get(n);return e!==void 0||(n==="mock"?e=new nr:e=new kt(n),Jo.set(n,e)),e}var Ae,Qo,Pt,Jo,rr,kt,or,nr,Yo=x(()=>{"use strict";Ae=Ze(Xo()),Qo=require("path"),Pt=(r=>(r.cl100k="cl100k_base",r.o200k="o200k_base",r.mock="mock",r))(Pt||{}),Jo=new Map;u(q,"getTokenizer");rr=class rr{constructor(e){try{this._tokenizer=(0,Ae.createTokenizer)((0,Qo.join)(__dirname,`./resources/${e}.tiktoken`),(0,Ae.getSpecialTokensByEncoder)(e),(0,Ae.getRegexByEncoder)(e),32768)}catch(t){if(t instanceof Error){let r=new Error("Could not load tokenizer");throw r.code="CopilotPromptLoadFailure",r.cause=t,r}throw t}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(r=>this.detokenize([r]))}takeLastTokens(e,t){if(t<=0)return"";let r=4,i=1,l=Math.min(e.length,t*r),o=e.slice(-l),s=this.tokenize(o);for(;s.length<t+2&&l<e.length;)l=Math.min(e.length,l+t*i),o=e.slice(-l),s=this.tokenize(o);return s.length<t?e:(s=s.slice(-t),this.detokenize(s))}takeFirstTokens(e,t){if(t<=0)return{text:"",tokens:[]};let r=4,i=1,l=Math.min(e.length,t*r),o=e.slice(0,l),s=this.tokenize(o);for(;s.length<t+2&&l<e.length;)l=Math.min(e.length,l+t*i),o=e.slice(0,l),s=this.tokenize(o);return s.length<t?{text:e,tokens:s}:(s=s.slice(0,t),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(e,t){let r=this.takeLastTokens(e,t);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let i=r.indexOf(`
`);return r.substring(i+1)}};u(rr,"TTokenizer");kt=rr,or=class or{constructor(){this.hash=u(e=>{let t=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);t=(t<<5)-t+i,t&=t&65535}return t},"hash")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(t=>t.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,t){return this.tokenizeStrings(e).slice(-t).join("")}takeFirstTokens(e,t){let r=this.tokenizeStrings(e).slice(0,t);return{text:r.join(""),tokens:r.map(this.hash)}}takeLastLinesTokens(e,t){let r=this.takeLastTokens(e,t);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let i=r.indexOf(`
`);return r.substring(i+1)}};u(or,"MockTokenizer");nr=or});var Fe=x(()=>{"use strict";Yo()});function Nt(n,e,t){return{type:"virtual",indentation:n,subs:e,label:t}}function sr(n,e,t,r,i){if(t==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:n,lineNumber:e,sourceLine:t,subs:r,label:i}}function Ct(n){return{type:"blank",lineNumber:n,subs:[]}}function tt(n){return{type:"top",indentation:-1,subs:n!=null?n:[]}}function P(n){return n.type==="blank"}function G(n){return n.type==="line"}function z(n){return n.type==="virtual"}function ce(n){return n.type==="top"}function ka(n,e){function t(r){if(!z(r)&&!ce(r)&&r.lineNumber===e)return r.subs=[],!0;for(let i=0;i<r.subs.length;i++)if(t(r.subs[i]))return r.subs=r.subs.slice(0,i+1),!0;return!1}u(t,"cut"),t(n)}function Pa(n){return JSON.parse(JSON.stringify(n))}var we=x(()=>{"use strict";u(Nt,"virtualNode");u(sr,"lineNode");u(Ct,"blankNode");u(tt,"topNode");u(P,"isBlank");u(G,"isLine");u(z,"isVirtual");u(ce,"isTop");u(ka,"cutTreeAfterLine");u(Pa,"duplicateTree")});function es(n){return A(n,e=>{e.label=void 0},"bottomUp"),n}function ir(n,e){return A(n,t=>{t.label=t.label?e(t.label)?void 0:t.label:void 0},"bottomUp"),n}function Y(n,e){switch(n.type){case"line":case"virtual":let t=n.subs.map(r=>Y(r,e));return{...n,subs:t,label:n.label?e(n.label):void 0};case"blank":return{...n,label:n.label?e(n.label):void 0};case"top":return{...n,subs:n.subs.map(r=>Y(r,e)),label:n.label?e(n.label):void 0}}}function Na(n){let e=0;function t(r){!z(r)&&!ce(r)&&(r.lineNumber=e,e++)}u(t,"visitor"),A(n,t,"topDown")}function A(n,e,t){function r(i){t==="topDown"&&e(i),i.subs.forEach(l=>{r(l)}),t==="bottomUp"&&e(i)}u(r,"_visit"),r(n)}function Ca(n,e,t){function r(i){if(t==="topDown"&&!e(i))return!1;let l=!0;return i.subs.forEach(o=>{l=l&&r(o)}),t==="bottomUp"&&(l=l&&e(i)),l}u(r,"_visit"),r(n)}function nt(n,e,t,r){let i=e;function l(o){i=t(o,i)}return u(l,"visitor"),A(n,l,r),i}function rt(n,e,t){let r=u(l=>{if(t!==void 0&&t(l))return l;{let o=l.subs.map(r).filter(s=>s!==void 0);return l.subs=o,e(l)}},"rebuild"),i=r(n);return i!==void 0?i:tt()}var Oe=x(()=>{"use strict";we();u(es,"clearLabels");u(ir,"clearLabelsIf");u(Y,"mapLabels");u(Na,"resetLineNumbers");u(A,"visitTree");u(Ca,"visitTreeConditionally");u(nt,"foldTree");u(rt,"rebuildTree")});function ts(n){let e=n.split(`
`),t=e.map(c=>c.match(/^\s*/)[0].length),r=e.map(c=>c.trimLeft());function i(c){let[d,_]=l(c+1,t[c]);return[sr(t[c],c,r[c],d),_]}u(i,"parseNode");function l(c,d){let _,f=[],p=c,m;for(;p<r.length&&(r[p]===""||t[p]>d);)if(r[p]==="")m===void 0&&(m=p),p+=1;else{if(m!==void 0){for(let h=m;h<p;h++)f.push(Ct(h));m=void 0}[_,p]=i(p),f.push(_)}return m!==void 0&&(p=m),[f,p]}u(l,"parseSubs");let[o,s]=l(0,-1),a=s;for(;a<r.length&&r[a]==="";)o.push(Ct(a)),a+=1;if(a<r.length)throw new Error(`Parsing did not go to end of file. Ended at ${a} out of ${r.length}`);return tt(o)}function Re(n,e){function t(r){if(G(r)){let i=e.find(l=>l.matches(r.sourceLine));i&&(r.label=i.label)}}u(t,"visitor"),A(n,t,"bottomUp")}function ot(n){function e(t){if(z(t)&&t.label===void 0){let r=t.subs.filter(i=>!P(i));r.length===1&&(t.label=r[0].label)}}u(e,"visitor"),A(n,e,"bottomUp")}function De(n){return Object.keys(n).map(e=>{let t;return n[e].test?t=u(r=>n[e].test(r),"matches"):t=n[e],{matches:t,label:e}})}function At(n){let t=rt(n,u(function(r){if(r.subs.length===0||r.subs.findIndex(o=>o.label==="closer"||o.label==="opener")===-1)return r;let i=[],l;for(let o=0;o<r.subs.length;o++){let s=r.subs[o],a=r.subs[o-1];if(s.label==="opener"&&a!==void 0&&G(a))a.subs.push(s),s.subs.forEach(c=>a.subs.push(c)),s.subs=[];else if(s.label==="closer"&&l!==void 0&&(G(s)||z(s))&&s.indentation>=l.indentation){let c=i.length-1;for(;c>0&&P(i[c]);)c-=1;if(l.subs.push(...i.splice(c+1)),s.subs.length>0){let d=l.subs.findIndex(m=>m.label!=="newVirtual"),_=l.subs.slice(0,d),f=l.subs.slice(d),p=f.length>0?[Nt(s.indentation,f,"newVirtual")]:[];l.subs=[..._,...p,s]}else l.subs.push(s)}else i.push(s),P(s)||(l=s)}return r.subs=i,r},"rebuilder"));return ir(n,r=>r==="newVirtual"),t}function ar(n,e=P,t){return rt(n,u(function(i){if(i.subs.length<=1)return i;let l=[],o=[],s,a=!1;function c(d=!1){if(s!==void 0&&(l.length>0||!d)){let _=Nt(s,o,t);l.push(_)}else o.forEach(_=>l.push(_))}u(c,"flushBlockIntoNewSubs");for(let d=0;d<i.subs.length;d++){let _=i.subs[d],f=e(_);!f&&a&&(c(),o=[]),a=f,o.push(_),P(_)||(s=s!=null?s:_.indentation)}return c(!0),i.subs=l,i},"rebuilder"))}function ee(n){return rt(n,u(function(t){return z(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&z(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}function Ft(n,e){ns[n]=e}function de(n,e){let t=ts(n),r=ns[e!=null?e:""];return r?r(t):(Re(t,Fa),At(t))}var Aa,Fa,ns,Be=x(()=>{"use strict";we();Oe();u(ts,"parseRaw");u(Re,"labelLines");u(ot,"labelVirtualInherited");u(De,"buildLabelRules");u(At,"combineClosersAndOpeners");u(ar,"groupBlocks");u(ee,"flattenVirtual");Aa={opener:/^[\[({]/,closer:/^[\])}]/},Fa=De(Aa),ns={};u(Ft,"registerLanguageSpecificParser");u(de,"parseTree")});function rs(n){let e=n;return Re(e,Ra),e=At(e),e=ee(e),ot(e),A(e,t=>{if(t.label==="class"||t.label==="interface")for(let r of t.subs)!P(r)&&(r.label===void 0||r.label==="annotation")&&(r.label="member")},"bottomUp"),e}var Oa,Ra,os=x(()=>{"use strict";we();Oe();Be();Oa={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Ra=De(Oa);u(rs,"processJava")});function ss(n){let e=n;if(Re(e,Ba),P(e))return e;function t(l){if(l.label==="heading")return 1;if(l.label==="subheading")return 2;if(l.label==="subsubheading")return 3}u(t,"headingLevel");let r=[e],i=[...e.subs];e.subs=[];for(let l of i){let o=t(l);if(o===void 0||P(l))r[r.length-1].subs.push(l);else{for(;r.length<o;)r.push(r[r.length-1]);for(r[o-1].subs.push(l),r[o]=l;r.length>o+1;)r.pop()}}return e=ar(e),e=ee(e),ot(e),e}var Da,Ba,is=x(()=>{"use strict";we();Be();Da={heading:/^# /,subheading:/^## /,subsubheading:/### /},Ba=De(Da);u(ss,"processMarkdown")});function st(n){return" ".repeat(n.indentation)+n.sourceLine+`
`}function as(n){function e(t,r){let i="";return G(t)?i=st(t):P(t)&&(i=`
`),r+i}return u(e,"accumulator"),nt(n,"",e,"topDown")}function Ua(n,e){let t=new Set(e),r=[],i="";function l(o){o.label!==void 0&&t.has(o.label)?(i!==""&&r.push({label:void 0,source:i}),r.push({label:o.label,source:as(o)}),i=""):(G(o)&&(i+=st(o)),o.subs.forEach(l))}return u(l,"visit"),l(n),i!==""&&r.push({label:void 0,source:i}),r}function ls(n,e=0){let t=" ".repeat(e);if(n===void 0)return"UNDEFINED NODE";let r;n.subs===void 0?r="UNDEFINED SUBS":r=n.subs.map(o=>ls(o,e+2)).join(`,
`),r===""?r="[]":r=`[
${r}
      ${t}]`;let i=(z(n)||ce(n)?"   ":String(n.lineNumber).padStart(3," "))+`:  ${t}`,l=n.label===void 0?"":JSON.stringify(n.label);return z(n)||ce(n)?`${i}vnode(${n.indentation}, ${l}, ${r})`:P(n)?`${i}blank(${l!=null?l:""})`:`${i}lnode(${n.indentation}, ${l}, ${JSON.stringify(n.sourceLine)}, ${r})`}function us(n,e=""){let t=n.label===void 0?"":`, ${JSON.stringify(n.label)}`,r=!P(n)&&n.subs.length>0?`[
${n.subs.map(i=>us(i,e+"  ")).join(`, 
`)}
${e}]`:"[]";switch(n.type){case"blank":return`${e}blankNode(${n.lineNumber}${t})`;case"top":return`topNode(${r}${t})`;case"virtual":return`${e}virtualNode(${n.indentation}, ${r}${t})`;case"line":return`${e}lineNode(${n.indentation}, ${n.lineNumber}, "${n.sourceLine}", ${r}${t})`}}function cs(n){if(G(n)||P(n))return n.lineNumber;for(let e of n.subs){let t=cs(e);if(t!==void 0)return t}}function ds(n){let e,t=n.subs.length-1;for(;t>=0&&e===void 0;)e=ds(n.subs[t]),t--;return e===void 0&&!z(n)&&!ce(n)?n.lineNumber:e}var _s=x(()=>{"use strict";we();Oe();u(st,"deparseLine");u(as,"deparseTree");u(Ua,"deparseAndCutTree");u(ls,"describeTree");u(us,"encodeTree");u(cs,"firstLineOf");u(ds,"lastLineOf")});var it=x(()=>{"use strict";os();is();Be();we();_s();Oe();Be();Ft("markdown",ss);Ft("java",rs)});function Ue(n,e=ps){let t=Y(n,r=>r?1:void 0);return A(t,r=>{var l;if(P(r))return;let i=r.subs.reduce((o,s)=>{var a;return Math.max(o,(a=s.label)!=null?a:0)},0);r.label=Math.max((l=r.label)!=null?l:0,i*e.worthUp)},"bottomUp"),A(t,r=>{if(P(r))return;let i=r.subs.map(s=>{var a;return(a=s.label)!=null?a:0}),l=[...i];for(let s=0;s<i.length;s++)i[s]!==0&&(l=l.map((a,c)=>Math.max(a,Math.pow(e.worthSibling,Math.abs(s-c))*i[s])));let o=r.label;o!==void 0&&(l=l.map(s=>Math.max(s,e.worthDown*o))),r.subs.forEach((s,a)=>s.label=l[a])},"topDown"),ms(t)}function ms(n){let e=nt(n,[],(t,r)=>{var i,l;return(t.type==="line"||t.type==="blank")&&r.push(t.type==="line"?[st(t).trimEnd(),(i=t.label)!=null?i:0]:["",(l=t.label)!=null?l:0]),r},"topDown");return new at(e)}var ps,Ot=x(()=>{"use strict";it();lr();ps={worthUp:.9,worthSibling:.88,worthDown:.8};u(Ue,"fromTreeWithFocussedLines");u(ms,"fromTreeWithValuedLines")});function ur(n,e=!0,t=!0){let r=typeof n=="string"?de(n):de(n.source,n.languageId);ee(r);let i=Y(r,l=>e&&l!=="closer");return A(i,l=>{l.label===void 0&&(l.label=e&&l.label!==!1)},"topDown"),e&&A(i,l=>{if(l.label){let o=!1;for(let s of[...l.subs].reverse())s.label&&!o?o=!0:s.label=!1}else for(let o of l.subs)o.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),t&&A(i,l=>{l.label||(l.label=(G(l)||P(l))&&l.lineNumber==0)},"topDown"),Ue(i)}var cr=x(()=>{"use strict";it();Ot();u(ur,"elidableTextForSourceCode")});var Rt,We,dr=x(()=>{"use strict";Fe();Rt=class Rt{constructor(e,t,r=q().tokenLength(e+`
`),i="strict"){this.text=e;this._value=t;this._cost=r;if(e.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(t<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&t>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(e){return this._value*=e,this}recost(e=t=>q().tokenLength(t+`
`)){return this._cost=e(this.text),this}copy(){return new Rt(this.text,this.value,this.cost,"none")}};u(Rt,"LineWithValueAndCost");We=Rt});function Wa(n,e,t,r,i,l){var _,f,p,m,h,g,b,T,w,v,S,I,L;if(l.tokenLength(t+`
`)>e)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&n.forEach(y=>y.adjustValue(1/y.cost));let o=n.reduce((y,M)=>Math.max(y,M.value),0)+1,s=n.reduce((y,M)=>Math.max(y,M.text.length),0)+1,a=t.trim(),c=n.reduce((y,M)=>y+M.cost,0),d=n.length+1;for(;c>e&&d-->=-1;){let y=n.reduce((K,Me)=>Me.value<K.value?Me:K),M=n.indexOf(y),V=(_=n.slice(0,M+1).reverse().find(K=>K.text.trim()!==""))!=null?_:{text:""},pe=r?Math.min((p=(f=V.text.match(/^\s*/))==null?void 0:f[0].length)!=null?p:0,((m=n[M-1])==null?void 0:m.text.trim())===a?(b=(g=(h=n[M-1])==null?void 0:h.text.match(/^\s*/))==null?void 0:g[0].length)!=null?b:0:s,((T=n[M+1])==null?void 0:T.text.trim())===a?(S=(v=(w=n[M+1])==null?void 0:w.text.match(/^\s*/))==null?void 0:v[0].length)!=null?S:0:s):0,me=" ".repeat(pe)+t,Z=new We(me,o,l.tokenLength(me+`
`),"loose");n.splice(M,1,Z),((I=n[M+1])==null?void 0:I.text.trim())===a&&n.splice(M+1,1),((L=n[M-1])==null?void 0:L.text.trim())===a&&n.splice(M-1,1);let $=n.reduce((K,Me)=>K+Me.cost,0);$>=c&&n.every(K=>K.value===o)&&(r=!1),c=$}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return n.map(y=>y.text).join(`
`)}var Dt,at,lr=x(()=>{"use strict";Fe();cr();dr();Dt=class Dt{constructor(e){this.lines=[];let t=[];for(let r of e){let i=Array.isArray(r)?r[1]:1,l=Array.isArray(r)?r[0]:r;typeof l=="string"?l.split(`
`).forEach(o=>t.push(new We(o,i))):l instanceof Dt?l.lines.forEach(o=>t.push(o.copy().adjustValue(i))):"source"in l&&"languageId"in l&&ur(l).lines.forEach(o=>t.push(o.copy().adjustValue(i)))}this.lines=t}adjust(e){this.lines.forEach(t=>t.adjustValue(e))}recost(e=t=>q().tokenLength(t+`
`)){this.lines.forEach(t=>t.recost(e))}makePrompt(e,t="[...]",r=!0,i="removeLeastDesirable",l=q()){let o=this.lines.map(s=>s.copy());return Wa(o,e,t,r,i,l)}};u(Dt,"ElidableText");at=Dt;u(Wa,"makePrompt")});function ie(){}function za(n,e,t,r,i){for(var l=[],o;e;)l.push(e),o=e.previousComponent,delete e.previousComponent,e=o;l.reverse();for(var s=0,a=l.length,c=0,d=0;s<a;s++){var _=l[s];if(_.removed){if(_.value=n.join(r.slice(d,d+_.count)),d+=_.count,s&&l[s-1].added){var p=l[s-1];l[s-1]=l[s],l[s]=p}}else{if(!_.added&&i){var f=t.slice(c,c+_.count);f=f.map(function(h,g){var b=r[d+g];return b.length>h.length?b:h}),_.value=n.join(f)}else _.value=n.join(t.slice(c,c+_.count));c+=_.count,_.added||(d+=_.count)}}var m=l[a-1];return a>1&&typeof m.value=="string"&&(m.added||m.removed)&&n.equals("",m.value)&&(l[a-2].value+=m.value,l.pop()),l}function Ha(n,e,t){return hr.diff(n,e,t)}function Bt(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bt=u(function(e){return typeof e},"_typeof"):Bt=u(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Bt(n)}function _r(n){return qa(n)||Ga(n)||Za(n)||$a()}function qa(n){if(Array.isArray(n))return fr(n)}function Ga(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Za(n,e){if(n){if(typeof n=="string")return fr(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fr(n,e)}}function fr(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(n,e,t,r,i){e=e||[],t=t||[],r&&(n=r(i,n));var l;for(l=0;l<e.length;l+=1)if(e[l]===n)return t[l];var o;if(Ka.call(n)==="[object Array]"){for(e.push(n),o=new Array(n.length),t.push(o),l=0;l<n.length;l+=1)o[l]=pr(n[l],e,t,r,i);return e.pop(),t.pop(),o}if(n&&n.toJSON&&(n=n.toJSON()),Bt(n)==="object"&&n!==null){e.push(n),o={},t.push(o);var s=[],a;for(a in n)n.hasOwnProperty(a)&&s.push(a);for(s.sort(),l=0;l<s.length;l+=1)a=s[l],o[a]=pr(n[a],e,t,r,a);e.pop(),t.pop()}else o=n;return o}function ys(n,e,t,r,i,l,o){o||(o={}),typeof o.context>"u"&&(o.context=4);var s=Ha(t,r,o);if(!s)return;s.push({value:"",lines:[]});function a(b){return b.map(function(T){return" "+T})}u(a,"contextLines");for(var c=[],d=0,_=0,f=[],p=1,m=1,h=u(function(T){var w=s[T],v=w.lines||w.value.replace(/\n$/,"").split(`
`);if(w.lines=v,w.added||w.removed){var S;if(!d){var I=s[T-1];d=p,_=m,I&&(f=o.context>0?a(I.lines.slice(-o.context)):[],d-=f.length,_-=f.length)}(S=f).push.apply(S,_r(v.map(function($){return(w.added?"+":"-")+$}))),w.added?m+=v.length:p+=v.length}else{if(d)if(v.length<=o.context*2&&T<s.length-2){var L;(L=f).push.apply(L,_r(a(v)))}else{var y,M=Math.min(v.length,o.context);(y=f).push.apply(y,_r(a(v.slice(0,M))));var V={oldStart:d,oldLines:p-d+M,newStart:_,newLines:m-_+M,lines:f};if(T>=s.length-2&&v.length<=o.context){var pe=/\n$/.test(t),me=/\n$/.test(r),Z=v.length==0&&f.length>V.oldLines;!pe&&Z&&t.length>0&&f.splice(V.oldLines,0,"\\ No newline at end of file"),(!pe&&!Z||!me)&&f.push("\\ No newline at end of file")}c.push(V),d=0,_=0,f=[]}p+=v.length,m+=v.length}},"_loop"),g=0;g<s.length;g++)h(g);return{oldFileName:n,newFileName:e,oldHeader:i,newHeader:l,hunks:c}}var Rc,hs,gs,bs,hr,Va,ja,Ka,lt,mr,ws=x(()=>{u(ie,"Diff");ie.prototype={diff:u(function(e,t){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=i.callback;typeof i=="function"&&(l=i,i={}),this.options=i;var o=this;function s(v){return l?(setTimeout(function(){l(void 0,v)},0),!0):v}u(s,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var a=t.length,c=e.length,d=1,_=a+c;i.maxEditLength&&(_=Math.min(_,i.maxEditLength));var f=(r=i.timeout)!==null&&r!==void 0?r:1/0,p=Date.now()+f,m=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(m[0],t,e,0);if(m[0].oldPos+1>=c&&h+1>=a)return s([{value:this.join(t),count:t.length}]);var g=-1/0,b=1/0;function T(){for(var v=Math.max(g,-d);v<=Math.min(b,d);v+=2){var S=void 0,I=m[v-1],L=m[v+1];I&&(m[v-1]=void 0);var y=!1;if(L){var M=L.oldPos-v;y=L&&0<=M&&M<a}var V=I&&I.oldPos+1<c;if(!y&&!V){m[v]=void 0;continue}if(!V||y&&I.oldPos+1<L.oldPos?S=o.addToPath(L,!0,void 0,0):S=o.addToPath(I,void 0,!0,1),h=o.extractCommon(S,t,e,v),S.oldPos+1>=c&&h+1>=a)return s(za(o,S.lastComponent,t,e,o.useLongestToken));m[v]=S,S.oldPos+1>=c&&(b=Math.min(b,v-1)),h+1>=a&&(g=Math.max(g,v+1))}d++}if(u(T,"execEditLength"),l)u(function v(){setTimeout(function(){if(d>_||Date.now()>p)return l();T()||v()},0)},"exec")();else for(;d<=_&&Date.now()<=p;){var w=T();if(w)return w}},"diff"),addToPath:u(function(e,t,r,i){var l=e.lastComponent;return l&&l.added===t&&l.removed===r?{oldPos:e.oldPos+i,lastComponent:{count:l.count+1,added:t,removed:r,previousComponent:l.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:t,removed:r,previousComponent:l}}},"addToPath"),extractCommon:u(function(e,t,r,i){for(var l=t.length,o=r.length,s=e.oldPos,a=s-i,c=0;a+1<l&&s+1<o&&this.equals(t[a+1],r[s+1]);)a++,s++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=s,a},"extractCommon"),equals:u(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:u(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:u(function(e){return e},"castInput"),tokenize:u(function(e){return e.split("")},"tokenize"),join:u(function(e){return e.join("")},"join")};u(za,"buildValues");Rc=new ie,hs=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,gs=/\S/,bs=new ie;bs.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!gs.test(n)&&!gs.test(e)};bs.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&hs.test(e[t])&&hs.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};hr=new ie;hr.tokenize=function(n){this.options.stripTrailingCr&&(n=n.replace(/\r\n/g,`
`));var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var i=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};u(Ha,"diffLines");Va=new ie;Va.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};ja=new ie;ja.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};u(Bt,"_typeof");u(_r,"_toConsumableArray");u(qa,"_arrayWithoutHoles");u(Ga,"_iterableToArray");u(Za,"_unsupportedIterableToArray");u(fr,"_arrayLikeToArray");u($a,"_nonIterableSpread");Ka=Object.prototype.toString,lt=new ie;lt.useLongestToken=!0;lt.tokenize=hr.tokenize;lt.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(l,o){return typeof o>"u"?t:o}:r;return typeof n=="string"?n:JSON.stringify(pr(n,null,null,i),i,"  ")};lt.equals=function(n,e){return ie.prototype.equals.call(lt,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};u(pr,"canonicalize");mr=new ie;mr.tokenize=function(n){return n.slice()};mr.join=mr.removeEmpty=function(n){return n};u(ys,"structuredPatch")});function Ja(n,e){let t=typeof n=="string"?typeof e=="string"?void 0:e.languageId:typeof e=="string"||n.languageId===e.languageId?n.languageId:void 0;n=typeof n=="string"?n:n.source,e=typeof e=="string"?e:e.source;let r=ys("","",n,e),i=new Set,l=new Set;for(let a of r.hunks){for(let c=a.oldStart;c<a.oldStart+a.oldLines;c++)i.add(c);for(let c=a.newStart;c<a.newStart+a.newLines;c++)l.add(c)}let o=Y(ee(de(n,t)),()=>!1),s=Y(ee(de(e,t)),()=>!1);return A(o,a=>{(a.type==="line"||a.type==="blank")&&i.has(a.lineNumber)&&(a.label=!0)},"topDown"),A(s,a=>{(a.type==="line"||a.type==="blank")&&l.has(a.lineNumber)&&(a.label=!0)},"topDown"),[Ue(o),Ue(s)]}var Es=x(()=>{"use strict";ws();it();Ot();u(Ja,"elidableTextForDiff")});var vs=x(()=>{"use strict";lr();Es();Ot();cr();dr()});function el({source:n}){return n.startsWith("#!")||n.startsWith("<!DOCTYPE")}function ut(n,e){var r;let t=(r=gr[e])!=null?r:Qa;if(t){let i=t.end==""?"":" "+t.end;return`${t.start} ${n}${i}`}return""}function ze(n,e){if(n==="")return"";let t=n.endsWith(`
`),i=(t?n.slice(0,-1):n).split(`
`).map(l=>ut(l,e)).join(`
`);return t?i+`
`:i}function Ts(n){let{languageId:e}=n;return Ya.indexOf(e)===-1&&!el(n)?e in Ss?Ss[e]:ut(`Language: ${e}`,e):""}function Ms(n){return n.relativePath?ut(`Path: ${n.relativePath}`,n.languageId):""}function He(n){return n===""||n.endsWith(`
`)?n:n+`
`}var gr,Qa,Ya,Ss,Ee=x(()=>{"use strict";gr={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Qa={start:"//",end:""},Ya=["php","plaintext"],Ss={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};u(el,"hasLanguageMarker");u(ut,"comment");u(ze,"commentBlockAsSingles");u(Ts,"getLanguageMarker");u(Ms,"getPathMarker");u(He,"newLineEnded")});function nl(n){return{...tl,...n}}function Ut(n,e={}){let t=nl(e),r=q(t.tokenizerName);if(t.maxLineCount!==void 0&&t.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(t.maxTokenLength!==void 0&&t.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(t.maxLineCount===0||t.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:t.tokenizerName};let i=n.source.slice(0,n.offset);return t.maxLineCount!==void 0&&(i=i.split(`
`).slice(-t.maxLineCount).join(`
`)),t.maxTokenLength!==void 0&&(i=r.takeLastLinesTokens(i,t.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:r.tokenLength(i),tokenizerName:t.tokenizerName}}var tl,br=x(()=>{"use strict";Fe();tl={tokenizerName:"cl100k_base"};u(nl,"cursorContextOptions");u(Ut,"getCursorContext")});function xs(n,e){if(n.length===0||e.length===0)return{score:n.length+e.length};let t=Array.from({length:n.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let r=0;r<n.length;r++)t[r][0]=r;for(let r=0;r<e.length;r++)t[0][r]=r;for(let r=0;r<e.length;r++)for(let i=0;i<n.length;i++)t[i][r]=Math.min((i==0?r:t[i-1][r])+1,(r==0?i:t[i][r-1])+1,(i==0||r==0?Math.max(i,r):t[i-1][r-1])+(n[i]==e[r]?0:1));return{score:t[n.length-1][e.length-1]}}var Is=x(()=>{"use strict";u(xs,"findEditDistanceScore")});function qt(n){switch(n){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${n}`)}}var ct,rl,yr,Wt,wr,zt,Er,dt,vr,Ht,Sr,Vt,Tr,jt,Gt=x(()=>{"use strict";Zt();Ve();Is();ct=50,rl=5,yr=class yr{constructor(){this.used=new Map;this.unused=new Map}add(e){for(let[t,r]of e.used)this.used.set(t,r);for(let[t,r]of e.unused)this.unused.set(t,r)}markUsed(e){this.IsSnippet(e)&&this.used.set(e.id,this.convert(e))}undoMarkUsed(e){this.IsSnippet(e)&&this.used.delete(e.id)}markUnused(e){this.IsSnippet(e)&&this.unused.set(e.id,this.convert(e))}convert(e){return{score:e.score.toFixed(4),length:e.text.length}}IsSnippet(e){return e.kind=="SimilarFile"||e.kind=="TooltipSignature"}};u(yr,"PromptBackground");Wt=yr,wr=class wr{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}add(e){for(let[t,r]of e.used)this.used.set(t,(this.used.get(t)||0)+r);for(let[t,r]of e.unused)this.unused.set(t,(this.unused.get(t)||0)+r);for(let[t,r]of e.usedCounts)this.usedCounts.set(t,(this.usedCounts.get(t)||0)+r);for(let[t,r]of e.unusedCounts)this.unusedCounts.set(t,(this.unusedCounts.get(t)||0)+r)}markUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)+e.tokens),e.kind=="BeforeCursor"?this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)+e.text.split(`
`).length):this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)+1)}undoMarkUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)-e.tokens),e.kind=="BeforeCursor"?this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)-e.text.split(`
`).length):this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)-1)}markUnused(e){this.unused.set(e.kind,(this.unused.get(e.kind)||0)+e.tokens),e.kind=="BeforeCursor"?this.unusedCounts.set(e.kind,(this.unusedCounts.get(e.kind)||0)+e.text.split(`
`).length):this.unusedCounts.set(e.kind,(this.unusedCounts.get(e.kind)||0)+1)}};u(wr,"PromptChoices");zt=wr,Er=class Er{constructor(e="default"){switch(e){default:this._rankedList=["LanguageMarker","PathMarker","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(e){return e.sort((t,r)=>{let i=this._rankedList.indexOf(t.kind),l=this._rankedList.indexOf(r.kind);if(i===-1||l===-1)throw`Invalid element kind: ${t.kind} or ${r.kind}, not found in prompt element ordering list`;return i===l?t.id-r.id:i-l})}};u(Er,"PromptOrderList");dt=Er,vr=class vr extends dt{constructor(e="default"){switch(super(),e){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","PathMarker","LanguageMarker"]}}sortElements(e){return e.sort((t,r)=>{let i=this._rankedList.indexOf(t.kind),l=this._rankedList.indexOf(r.kind);if(i===-1||l===-1)throw`Invalid element kind: ${t.kind} or ${r.kind}, not found in snippet provider priority list`;return i===l?r.id-t.id:i-l})}};u(vr,"PromptPriorityList");Ht=vr;u(qt,"kindForSnippetProviderType");Sr=class Sr{constructor(e){this.ranges=new Array;let t=0,r;for(let i of e)i.text.length!==0&&(r==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:t,end:t+i.text.length}),r=i.kind,t+=i.text.length)}};u(Sr,"PromptElementRanges");Vt=Sr,Tr=class Tr{constructor(e,t,r,i,l){this.tokenizer=e;this.lineEndingOption=t;this.orderingList=r;this.snippetTextProcessor=i;this.priorityList=l;this.content=[];this.basePromptBackground=new Wt;this.baseTallyOfChoices=new zt}extMarkUnused(e){this.basePromptBackground.markUnused(e),this.baseTallyOfChoices.markUnused(e)}getContent(){return[...this.content]}convertLineEndings(e){return this.lineEndingOption==="unix"&&(e=e.replace(/\r\n?/g,`
`)),e}maxPrefixTokenLength(){return this.content.reduce((e,t)=>e+=t.tokens,0)}append(e,t,r=this.tokenizer.tokenLength(e),i=NaN){e=this.convertLineEndings(e);let l=this.content.length;return this.content.push({id:l,text:e,kind:t,tokens:r,score:i}),l}fulfillPrefix(e){let t=new Wt;t.add(this.basePromptBackground);let r=new zt;r.add(this.baseTallyOfChoices);function i(m){t.markUsed(m),r.markUsed(m)}u(i,"markUsed");function l(m){t.undoMarkUsed(m),r.undoMarkUsed(m)}u(l,"undoMarkUsed");function o(m){t.markUnused(m),r.markUnused(m)}u(o,"markUnused"),this.priorityList.sortElements(this.content);let s,a=[],c=e;this.content.forEach(m=>{if(c>0||s===void 0){let h=m.tokens;if(c>=h)c-=h,i(m),a.push(m);else if(m.kind==="BeforeCursor"&&c>0){let{summarizedElement:g,removedMaterial:b}=this.snippetTextProcessor.summarize(this.tokenizer,m,c);m=g,h=m.tokens,c-=h,m.text.length>0&&i(m),b.text.length>0&&o(b),a.push(m)}else s===void 0?s=m:o(m)}else o(m)}),this.orderingList.sortElements(a);let d=a.reduce((m,h)=>m+h.text,""),_=this.tokenizer.tokenLength(d);for(;_>e;){this.priorityList.sortElements(a);let m=a.pop();m&&(l(m),o(m),s!==void 0&&o(s),s=void 0),this.orderingList.sortElements(a),d=a.reduce((h,g)=>h+g.text,""),_=this.tokenizer.tokenLength(d)}let f=[...a];if(s!==void 0){f.push(s),this.orderingList.sortElements(f);let m=f.reduce((g,b)=>g+b.text,""),h=this.tokenizer.tokenLength(m);if(h<=e){i(s);let g=new Vt(f);return{prefix:m,suffix:"",prefixLength:h,suffixLength:0,promptChoices:r,promptBackground:t,promptElementRanges:g}}else o(s)}let p=new Vt(a);return{prefix:d,suffix:"",prefixLength:_,suffixLength:0,promptChoices:r,promptBackground:t,promptElementRanges:p}}fulfill(e,t,r){var f;if(t.suffixPercent===0||e.length===0)return{promptInfo:this.fulfillPrefix(t.maxPromptLength),newCachedSuffix:r};let i=t.maxPromptLength-rl,l=Math.floor(i*(100-t.suffixPercent)/100),o=i-l,s=e.replace(/^.*/,"").trimStart();if(i>ct&&o<ct)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${o} < ${ct}
`);let a=this.tokenizer.takeFirstTokens(s,ct),c=!1;a.tokens.length>0&&t.suffixMatchThreshold>0&&100*((f=xs(a.tokens,r.tokens.slice(0,ct)))==null?void 0:f.score)<t.suffixMatchThreshold*a.tokens.length&&(c=!0);let d;if(c)l=i-r.tokens.length,d=r;else{let p=this.maxPrefixTokenLength(),m=this.tokenizer.tokenLength(s);p<l?(l=p,o=i-l):m<o&&(l=i-m,o=m),d=this.tokenizer.takeFirstTokens(s,o)}let _=this.fulfillPrefix(l);return _.suffix=d.text,_.suffixLength=d.tokens.length,{promptInfo:_,newCachedSuffix:d}}};u(Tr,"PromptWishlist");jt=Tr});function sl(n,e){let t=ol[n.semantics],i=(n.relativePath?`Compare this ${t} from ${n.relativePath}:`:`Compare this ${t}:`)+`
`+n.snippet;return i.endsWith(`
`)||(i+=`
`),ze(i,e)}function Ls(n){n.sort((e,t)=>t.score-e.score)}function il(n,e,t){if(e==0)return[];let r=n.map(l=>({...l,kind:qt(l.provider)})),i=[];return t.rankedList.forEach(l=>{let o=r.filter(({kind:s})=>s===l);Ls(o),i.push(...o)}),i.slice(0,e)}function ks(n,e,t,r,i){let o=il(n,i,r).map(s=>{let a=sl(s,e),c=t.tokenLength(a);return{announcedSnippet:a,provider:s.provider,score:s.score,tokens:c,relativePath:s.relativePath}}).filter(s=>s.tokens>0);return Ls(o),o.reverse(),o}var te,ve,ol,Se=x(()=>{"use strict";Ee();Gt();te=(i=>(i.SimilarFiles="similar-files",i.Language="language",i.Path="path",i.TooltipSignature="tooltip-signature",i))(te||{}),ve=(d=>(d.Function="function",d.Snippet="snippet",d.Variable="variable",d.Parameter="parameter",d.Method="method",d.Class="class",d.Module="module",d.Alias="alias",d.Enum="enum member",d.Interface="interface",d))(ve||{}),ol={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};u(sl,"announceSnippet");u(Ls,"sortSnippetsDescending");u(il,"selectSnippets");u(ks,"processSnippetsForWishlist")});function al(n){return n.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}var Lr,xr,kr,Ir,Ps,Pr,$t,ll,ul,cl,Nr=x(()=>{"use strict";Se();Lr=class Lr{constructor(e){this.keys=[];this.cache={};this.size=e}put(e,t){var r;if(this.cache[e]=t,this.keys.length>this.size){this.keys.push(e);let i=(r=this.keys.shift())!=null?r:"";delete this.cache[i]}}get(e){return this.cache[e]}};u(Lr,"FifoCache");xr=Lr,kr=class kr{constructor(e){var t;this.stopsForLanguage=(t=cl.get(e.languageId))!=null?t:ul}tokenize(e){return new Set(al(e).filter(t=>!this.stopsForLanguage.has(t)))}};u(kr,"Tokenizer");Ir=kr,Ps=new xr(20),Pr=class Pr{constructor(e,t){this.referenceDoc=e,this.cacheReferenceTokens=t,this.tokenizer=new Ir(e)}get referenceTokens(){var e;return this.cacheReferenceTokens?(e=this.referenceTokensCache)!=null?e:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context):this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,t="descending"){return t=="ascending"?e.sort((r,i)=>r.score>i.score?1:-1):t=="descending"?e.sort((r,i)=>r.score>i.score?-1:1):e}retrieveAllSnippets(e,t="descending"){var c;let r=[];if(e.source.length===0||this.referenceTokens.size===0)return r;let i=e.source.split(`
`),l=this.id()+":"+e.source,o=(c=Ps.get(l))!=null?c:[],s=o.length==0,a=s?i.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[_,f]]of this.getWindowsDelineations(i).entries()){if(s){let h=new Set;a.slice(_,f).forEach(g=>g.forEach(h.add,h)),o.push(h)}let p=o[d],m=this.similarityScore(p,this.referenceTokens);if(r.length&&_>0&&r[r.length-1].endLine>_){r[r.length-1].score<m&&(r[r.length-1].score=m,r[r.length-1].startLine=_,r[r.length-1].endLine=f);continue}r.push({score:m,startLine:_,endLine:f})}return s&&Ps.put(l,o),this.sortScoredSnippets(r,t)}findMatches(e,t){return this.findBestMatch(e,t)}findBestMatch(e,t){if(e.source.length===0||this.referenceTokens.size===0)return[];let r=e.source.split(`
`),i=this.retrieveAllSnippets(e,"descending");if(i.length===0)return[];let l=[];for(let o=0;o<i.length&&o<t;o++)if(i[o].score!==0){let s=r.slice(i[o].startLine,i[o].endLine).join(`
`);l.push({snippet:s,semantics:"snippet",provider:"similar-files",...i[o]})}return l}};u(Pr,"WindowedMatcher");$t=Pr;u(al,"splitIntoWords");ll=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ul=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ll]),cl=new Map([])});function Ns(n,e){let t=[],r=e.length;if(r==0)return[];if(r<n)return[[0,r]];for(let i=0;i<r-n+1;i++)t.push([i,i+n]);return t}var Cs=x(()=>{"use strict";Oe();Be();u(Ns,"getBasicWindowDelineations")});function dl(n,e){let t=new Set;return n.forEach(r=>{e.has(r)&&t.add(r)}),t.size/(n.size+e.size-t.size)}var _t,Kt,As=x(()=>{"use strict";br();Nr();Cs();_t=class _t extends $t{constructor(e,t,r){super(e,r),this.windowLength=t}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return Ns(this.windowLength,e)}_getCursorContextInfo(e){return Ut(e,{maxLineCount:this.windowLength})}similarityScore(e,t){return dl(e,t)}};u(_t,"FixedWindowSizeJaccardMatcher"),_t.FACTORY=u((e,t)=>({to:r=>new _t(r,e,t)}),"FACTORY");Kt=_t;u(dl,"computeScore")});function je(n,e){let t=process.env[n];if(t===void 0)return e;let r=parseInt(t);return isNaN(r)?e:r}function _l(n,e,t){return Kt.FACTORY(e.snippetLength,t).to(n)}async function zs(n,e,t,r){let i=_l(n,t,r);return t.maxTopSnippets===0?[]:(await e.filter(o=>o.source.length<t.maxCharPerFile&&o.source.length>0).slice(0,t.maxNumberOfFiles).reduce(async(o,s)=>(await o).concat(i.findMatches(s,t.maxSnippetsPerFile).map(a=>({relativePath:s.relativePath,...a}))),Promise.resolve([]))).filter(o=>o.score&&o.snippet&&o.score>t.threshold).sort((o,s)=>o.score-s.score).slice(-t.maxTopSnippets)}var Fs,Os,Rs,Ds,Bs,Us,Ws,Cr,Xt=x(()=>{"use strict";As();Fs=0,Os=60,Rs=4,Ds=1,Bs=20,Us=1e4,Ws={snippetLength:Os,threshold:Fs,maxTopSnippets:Rs,maxCharPerFile:Us,maxNumberOfFiles:Bs,maxSnippetsPerFile:Ds};u(je,"parseNumberFromEnv");Cr={snippetLength:je("GH_COPILOT_CPP_SNIPPET_WINDOW_SIZE",Os),threshold:je("GH_COPILOT_CPP_SNIPPET_THRESHOLD",Fs),maxTopSnippets:je("GH_COPILOT_CPP_MAX_TOP_SNIPPETS",Rs),maxCharPerFile:je("GH_COPILOT_CPP_MAX_CHARACTERS_PER_FILE",Us),maxNumberOfFiles:je("GH_COPILOT_CPP_MAX_NUMBER_OF_FILES",Bs),maxSnippetsPerFile:je("GH_COPILOT_CPP_MAX_SNIPPETS_PER_FILE",Ds)};u(_l,"getMatcher");u(zs,"getSimilarSnippets")});function Hs(n,e,t){if(!t)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let r=e.text.split(`
`);for(let g=0;g<r.length-1;g++)r[g]+=`
`;let i=[];r.forEach((g,b)=>{g===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(g)});let l=i.map(g=>n.tokenLength(g)),o=1,s=0;for(;o<=l.length;o++){let g=l.at(-o);if(g){if(g+s>t){o--;break}s+=g}}let c=i.slice(-o).join(""),d=n.tokenLength(c),f=i.slice(0,-o).join(""),p=n.tokenLength(f),m={id:e.id,kind:e.kind,text:c,tokens:d,score:e.score},h={id:e.id,kind:e.kind,text:f,tokens:p,score:e.score};return{summarizedElement:m,removedMaterial:h}}var Vs=x(()=>{"use strict";u(Hs,"truncateFirstLinesFirst")});var Ar,Jt,js=x(()=>{"use strict";Vs();Gt();Ar=class Ar{constructor(e="default"){switch(e){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Hs]])}}isSummarizationAvailable(e){return this.kindToFunctionMap.has(e)}summarize(e,t,r){return this.kindToFunctionMap.get(t.kind)(e,t,r)}};u(Ar,"SnippetTextProcessor");Jt=Ar});function qs(n,e){let t=`Use ${n}`;return ze(t,e)}function Gs(n){let e=n.source.substring(0,n.offset);return pl.test(e)}function Zs(n,e){let t=n.lastIndexOf(`
`)+1,r=n.substring(0,t),i=n.substring(t);return e.snippet=e.snippet+i,[r,e]}var pl,Fr=x(()=>{"use strict";Ee();pl=/(\.|\->|::)\w+$/;u(qs,"announceTooltipSignatureSnippet");u(Gs,"endsWithAttributesOrMethod");u(Zs,"transferLastLineToTooltipSignature")});function ml(){Or={text:"",tokens:[]}}function _e(n){var e;return n=n.toLowerCase(),(e=gl[n])!=null?e:n}async function bl(n,e={},t=[]){let r=new Qt(e,n.languageId),i=q(r.tokenizerName),l=new Jt(r.snippetTextProcessingPreset),o=new dt(r.promptOrderListPreset),s=new Ht(r.promptPriorityPreset),{source:a,offset:c}=n;if(c<0||c>a.length)throw new Error(`Offset ${c} is out of range.`);n.languageId=_e(n.languageId);let d=new jt(i,r.lineEnding,o,l,s),_=t.find(w=>w.provider==="path"),f=t.find(w=>w.provider==="language"),p=t.find(w=>w.provider==="tooltip-signature");_!==void 0&&_.snippet.length>0?(d.append(_.snippet,"PathMarker"),f&&d.extMarkUnused({text:f.snippet,kind:"LanguageMarker",tokens:i.tokenLength(f.snippet),id:NaN,score:NaN})):f&&d.append(f.snippet,"LanguageMarker"),t=t.filter(w=>w.provider!=="language"&&w.provider!=="path"&&w.provider!=="tooltip-signature");function m(){ks(t,n.languageId,i,s,r.numberOfSnippets).forEach(v=>{let S=qt(v.provider);d.append(v.announcedSnippet,S,v.tokens,v.score)})}u(m,"addSnippetsNow"),m();let h=a.substring(0,c);p!==void 0&&i.tokenLength(p.snippet)<=Js?([h,p]=Zs(h,p),d.append(p.snippet,"TooltipSignature")):p!==void 0&&d.extMarkUnused({text:p.snippet,kind:"TooltipSignature",tokens:i.tokenLength(p.snippet),id:NaN,score:NaN}),d.append(h,"BeforeCursor");let g=a.slice(c),{promptInfo:b,newCachedSuffix:T}=d.fulfill(g,r,Or);return Or=T,b}var Or,$s,Ks,Xs,Js,Qs,hl,Mr,Ys,ei,Rr,Qt,gl,Ve=x(()=>{"use strict";Xt();Se();js();Fe();Fr();Gt();Or={text:"",tokens:[]};u(ml,"resetSuffixCache");$s=500,Ks=8192-$s,Xs=4,Js=150,Qs=10,hl=15,Mr=(t=>(t.ConvertToUnix="unix",t.KeepOriginal="keep",t))(Mr||{}),Ys=(t=>(t.None="none",t.FifteenPercent="fifteenPercent",t))(Ys||{}),ei=(t=>(t.Equal="equal",t.Levenshtein="levenshteineditdistance",t))(ei||{}),Rr=class Rr{constructor(e,t){this.maxPromptLength=Ks;this.numberOfSnippets=Xs;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=Qs;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";this.cacheReferenceTokens=!1;this.similarFilesOptions=Ws;if(Object.assign(this,e),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);t==="cpp"&&(this.similarFilesOptions=Cr,this.numberOfSnippets=Cr.maxTopSnippets)}};u(Rr,"PromptOptions");Qt=Rr,gl={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};u(_e,"normalizeLanguageId");u(bl,"getPrompt")});var Dr,fe,Br,ne,Te=x(()=>{"use strict";Wr();Dr=class Dr extends Error{constructor(e){super(e),this.name="ProviderTimeoutError"}};u(Dr,"ProviderTimeoutError");fe=Dr,Br=class Br{constructor(e){this.api=e}getSnippets(e,t){return new Promise((r,i)=>{t.aborted&&i({error:new fe("provider aborted"),providerType:this.type}),t.addEventListener("abort",()=>{i({error:new fe(`max runtime exceeded: ${Ur} ms`),providerType:this.type})},{once:!0});let l=performance.now();this.buildSnippets(e).then(o=>{let s=performance.now();r({snippets:o,providerType:this.type,runtime:s-l})}).catch(o=>{i({error:o,providerType:this.type})})})}};u(Br,"SnippetProvider");ne=Br});var zr,Yt,ti=x(()=>{"use strict";Ee();Ve();Se();Te();zr=class zr extends ne{constructor(){super(...arguments);this.type="language"}async buildSnippets(t){let{currentFile:r}=t;return r.languageId=_e(r.languageId),[{provider:this.type,semantics:"snippet",snippet:He(Ts(r)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}};u(zr,"LanguageSnippetProvider");Yt=zr});var Hr,en,ni=x(()=>{"use strict";Ee();Ve();Se();Te();Hr=class Hr extends ne{constructor(){super(...arguments);this.type="path"}async buildSnippets(t){let{currentFile:r}=t;return r.languageId=_e(r.languageId),[{provider:this.type,semantics:"snippet",snippet:He(Ms(r)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}};u(Hr,"PathSnippetProvider");en=Hr});var Vr,tn,ri=x(()=>{"use strict";Zt();Te();Vr=class Vr extends ne{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(t){let{currentFile:r,similarFiles:i,options:l}=t;return l&&i&&i.length?await this.api.getSimilarSnippets(r,i,l.similarFilesOptions,l.cacheReferenceTokens):[]}};u(Vr,"SimilarFilesProvider");tn=Vr});var jr,nn,oi=x(()=>{"use strict";Ee();Ve();Se();Fr();Te();jr=class jr extends ne{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:i}=t,l=[];return r.languageId=_e(r.languageId),i&&Gs(r)&&l.push({provider:this.type,semantics:"snippet",snippet:He(qs(i,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),l}};u(jr,"TooltipSignatureSnippetProvider");nn=jr});function yl(n){return new Promise(e=>{setTimeout(()=>e(`delay: ${n}`),n)})}var rn,re,si,Gr,qr,on,ii=x(()=>{"use strict";rn=Ze(require("path")),re=require("worker_threads");Xt();u(yl,"sleep");si=["getSimilarSnippets","sleep"],Gr=class Gr{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=zs;this.sleep=yl;var e;!re.isMainThread&&((e=re.workerData)!=null&&e.port)&&(Wn(),process.cwd=()=>re.workerData.cwd,this.configureWorkerResponse(re.workerData.port))}initWorker(){let{port1:e,port2:t}=new re.MessageChannel;this.port=e,this.worker=new re.Worker(rn.default.resolve(rn.default.extname(__filename)!==".ts"?__dirname:rn.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:t,cwd:process.cwd()},transferList:[t]}),this.port.on("message",r=>this.handleMessage(r)),this.port.on("error",r=>this.handleError(r))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let e of si)this.fns.set(e,this[e]),this.proxy(e)}unproxyFunctions(){for(let e of si){let t=this.fns.get(e);if(t)this[e]=t;else throw new Error(`Unproxy function not found: ${e}`)}}configureWorkerResponse(e){this.port=e,this.port.on("message",async({id:t,fn:r,args:i})=>{let l=this[r];if(!l)throw new Error(`Function not found: ${r}`);try{let o=await l.apply(this,i);this.port.postMessage({id:t,res:o})}catch(o){if(!(o instanceof Error))throw o;typeof o.code=="string"?this.port.postMessage({id:t,err:o,code:o.code}):this.port.postMessage({id:t,err:o})}})}handleMessage({id:e,err:t,code:r,res:i}){let l=this.handlers.get(e);l&&(this.handlers.delete(e),t?(t.code=r,l.reject(t)):l.resolve(i))}handleError(e){var r;console.log(e);let t;if(e instanceof Error){t=e,t.code==="MODULE_NOT_FOUND"&&((r=t.message)!=null&&r.endsWith("workerProxy.js'"))&&(t=new Error("Failed to load workerProxy.js"),t.code="CopilotPromptLoadFailure");let i=new Error().stack;t.stack&&(i!=null&&i.match(/^Error\n/))&&(t.stack+=i.replace(/^Error/,""))}else(e==null?void 0:e.name)==="ExitStatus"&&typeof e.status=="number"?(t=new Error(`workerProxy.js exited with status ${e.status}`),t.code=`CopilotPromptWorkerExit${e.status}`):t=new Error(`Non-error thrown: ${e}`);for(let i of this.handlers.values())i.reject(t);throw t}proxy(e){this[e]=function(...t){let r=this.nextHandlerId++;return new Promise((i,l)=>{var o;this.handlers.set(r,{resolve:i,reject:l}),(o=this.port)==null||o.postMessage({id:r,fn:e,args:t})})}}};u(Gr,"WorkerProxy");qr=Gr,on=new qr});function ai(n){return n.status==="fulfilled"}function El(n){return n.status==="rejected"}function li(n){return n.filter(ai).flatMap(e=>e.value.snippets)}function ui(n){return n.filter(El).flatMap(e=>e.reason)}function ci(n){let e={},t={};return n.forEach(r=>{ai(r)?(e[r.value.providerType]=Math.round(r.value.runtime),t[r.value.providerType]=!1):r.reason.error instanceof fe&&(t[r.reason.providerType]=!0,e[r.reason.providerType]=0)}),{runtimes:e,timeouts:t}}function vl(n){return Promise.all(n.map(e=>e.then(Sl,Tl)))}function Sl(n){return{status:"fulfilled",value:n}}function Tl(n){return{status:"rejected",reason:n}}var Ur,wl,Zr,sn,Wr=x(()=>{"use strict";ti();ni();ri();Te();oi();ii();Ur=300,wl=[Yt,en,tn,nn];u(ai,"isFulfilledResult");u(El,"isRejectedResult");u(li,"providersSnippets");u(ui,"providersErrors");u(ci,"providersPerformance");Zr=class Zr{constructor(e=wl){this.startThreading=u(()=>on.startThreading(),"startThreading");this.stopThreading=u(()=>on.stopThreading(),"stopThreading");this.providers=e.map(t=>new t(on))}async getSnippets(e){let t=AbortSignal.timeout(Ur),r=this.providers.map(i=>i.getSnippets(e,t));return Promise.allSettled?Promise.allSettled(r):vl(r)}};u(Zr,"SnippetOrchestrator");sn=Zr;u(vl,"allSettledBackup");u(Sl,"createPromiseFulfilledResult");u(Tl,"createPromiseRejectedResult")});var di=N((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=u((o,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(o){return Module.locateFile?Module.locateFile(o,scriptDirectory):scriptDirectory+o}u(locateFile,"locateFile");function logExceptionOnExit(o){o instanceof ExitStatus||err("exiting due to exception: "+o)}if(u(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=u((o,s)=>(o=isFileURI(o)?new URL(o):nodePath.normalize(o),fs.readFileSync(o,s?void 0:"utf8")),"read_"),readBinary=u(o=>{var s=read_(o,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=u((o,s,a)=>{o=isFileURI(o)?new URL(o):nodePath.normalize(o),fs.readFile(o,function(c,d){c?a(c):s(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=u((o,s)=>{if(keepRuntimeAlive())throw process.exitCode=o,s;logExceptionOnExit(s),process.exit(o)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=u(o=>{var s=new XMLHttpRequest;return s.open("GET",o,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=u(o=>{var s=new XMLHttpRequest;return s.open("GET",o,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=u((o,s,a)=>{var c=new XMLHttpRequest;c.open("GET",o,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):a()},c.onerror=a,c.send(null)},"readAsync"),setWindowTitle=u(o=>document.title=o,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(o,s,a){for(var c=s+a,d=s;o[d]&&!(d>=c);)++d;if(d-s>16&&o.buffer&&UTF8Decoder)return UTF8Decoder.decode(o.subarray(s,d));for(var _="";s<d;){var f=o[s++];if(128&f){var p=63&o[s++];if((224&f)!=192){var m=63&o[s++];if((f=(240&f)==224?(15&f)<<12|p<<6|m:(7&f)<<18|p<<12|m<<6|63&o[s++])<65536)_+=String.fromCharCode(f);else{var h=f-65536;_+=String.fromCharCode(55296|h>>10,56320|1023&h)}}else _+=String.fromCharCode((31&f)<<6|p)}else _+=String.fromCharCode(f)}return _}u(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(o,s){return o?UTF8ArrayToString(HEAPU8,o,s):""}u(UTF8ToString,"UTF8ToString");function stringToUTF8Array(o,s,a,c){if(!(c>0))return 0;for(var d=a,_=a+c-1,f=0;f<o.length;++f){var p=o.charCodeAt(f);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&o.charCodeAt(++f)),p<=127){if(a>=_)break;s[a++]=p}else if(p<=2047){if(a+1>=_)break;s[a++]=192|p>>6,s[a++]=128|63&p}else if(p<=65535){if(a+2>=_)break;s[a++]=224|p>>12,s[a++]=128|p>>6&63,s[a++]=128|63&p}else{if(a+3>=_)break;s[a++]=240|p>>18,s[a++]=128|p>>12&63,s[a++]=128|p>>6&63,s[a++]=128|63&p}}return s[a]=0,a-d}u(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(o,s,a){return stringToUTF8Array(o,HEAPU8,s,a)}u(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(o){for(var s=0,a=0;a<o.length;++a){var c=o.charCodeAt(a);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++a):s+=3}return s}u(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(o){buffer=o,Module.HEAP8=HEAP8=new Int8Array(o),Module.HEAP16=HEAP16=new Int16Array(o),Module.HEAP32=HEAP32=new Int32Array(o),Module.HEAPU8=HEAPU8=new Uint8Array(o),Module.HEAPU16=HEAPU16=new Uint16Array(o),Module.HEAPU32=HEAPU32=new Uint32Array(o),Module.HEAPF32=HEAPF32=new Float32Array(o),Module.HEAPF64=HEAPF64=new Float64Array(o)}u(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}u(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}u(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}u(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}u(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}u(postRun,"postRun");function addOnPreRun(o){__ATPRERUN__.unshift(o)}u(addOnPreRun,"addOnPreRun");function addOnInit(o){__ATINIT__.unshift(o)}u(addOnInit,"addOnInit");function addOnPostRun(o){__ATPOSTRUN__.unshift(o)}u(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(o){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}u(addRunDependency,"addRunDependency");function removeRunDependency(o){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}u(removeRunDependency,"removeRunDependency");function abort(o){throw Module.onAbort&&Module.onAbort(o),err(o="Aborted("+o+")"),ABORT=!0,EXITSTATUS=1,o+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(o)}u(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(o){return o.startsWith(dataURIPrefix)}u(isDataURI,"isDataURI");function isFileURI(o){return o.startsWith("file://")}u(isFileURI,"isFileURI");function getBinary(o){try{if(o==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(o);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}u(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return o.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(o,s){readAsync(wasmBinaryFile,function(a){o(new Uint8Array(a))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}u(getBinaryPromise,"getBinaryPromise");function createWasm(){var o={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(d,_){var f=d.exports;f=relocateExports(f,1024);var p=getDylinkMetadata(_);p.neededDynlibs&&(dynamicLibraries=p.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}u(s,"t");function a(d){s(d.instance,d.module)}u(a,"r");function c(d){return getBinaryPromise().then(function(_){return WebAssembly.instantiate(_,o)}).then(function(_){return _}).then(d,function(_){err("failed to asynchronously prepare wasm: "+_),abort(_)})}if(u(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(o,s)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(a):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,o).then(a,function(_){return err("wasm streaming compile failed: "+_),err("falling back to ArrayBuffer instantiation"),c(a)})}),{}}u(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(o){this.name="ExitStatus",this.message="Program terminated with exit("+o+")",this.status=o}u(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(o,s){var a=GOT[s];return a||(a=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(a.required=!0),a}};function callRuntimeCallbacks(o){for(;o.length>0;)o.shift()(Module)}u(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(o){var s=0,a=0;function c(){for(var L=0,y=1;;){var M=o[s++];if(L+=(127&M)*y,y*=128,!(128&M))break}return L}u(c,"_");function d(){var L=c();return UTF8ArrayToString(o,(s+=L)-L,L)}u(d,"n");function _(L,y){if(L)throw new Error(y)}u(_,"s");var f="dylink.0";if(o instanceof WebAssembly.Module){var p=WebAssembly.Module.customSections(o,f);p.length===0&&(f="dylink",p=WebAssembly.Module.customSections(o,f)),_(p.length===0,"need dylink section"),a=(o=new Uint8Array(p[0])).length}else{_(new Uint32Array(new Uint8Array(o.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),_(o[8]!==0,"need the dylink section to be first"),s=9;var m=c();a=s+m,f=d()}var h={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){h.memorySize=c(),h.memoryAlign=c(),h.tableSize=c(),h.tableAlign=c();for(var g=c(),b=0;b<g;++b){var T=d();h.neededDynlibs.push(T)}}else for(_(f!=="dylink.0");s<a;){var w=o[s++],v=c();if(w===1)h.memorySize=c(),h.memoryAlign=c(),h.tableSize=c(),h.tableAlign=c();else if(w===2)for(g=c(),b=0;b<g;++b)T=d(),h.neededDynlibs.push(T);else if(w===3)for(var S=c();S--;){var I=d();256&c()&&h.tlsExports.add(I)}else if(w===4)for(S=c();S--;)d(),I=d(),(3&c())==1&&h.weakImports.add(I);else s+=v}return h}u(getDylinkMetadata,"getDylinkMetadata");function getValue(o,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[o>>0];case"i16":return HEAP16[o>>1];case"i32":case"i64":return HEAP32[o>>2];case"float":return HEAPF32[o>>2];case"double":return HEAPF64[o>>3];case"*":return HEAPU32[o>>2];default:abort("invalid type for getValue: "+s)}return null}u(getValue,"getValue");function asmjsMangle(o){return o.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(o)?o:"_"+o}u(asmjsMangle,"asmjsMangle");function mergeLibSymbols(o,s){for(var a in o)if(o.hasOwnProperty(a)){asmLibraryArg.hasOwnProperty(a)||(asmLibraryArg[a]=o[a]);var c=asmjsMangle(a);Module.hasOwnProperty(c)||(Module[c]=o[a]),a=="__main_argc_argv"&&(Module._main=o[a])}}u(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(o,s,a){var c=Module["dynCall_"+o];return a&&a.length?c.apply(null,[s].concat(a)):c.call(null,s)}u(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(o){var s=wasmTableMirror[o];return s||(o>=wasmTableMirror.length&&(wasmTableMirror.length=o+1),wasmTableMirror[o]=s=wasmTable.get(o)),s}u(getWasmTableEntry,"getWasmTableEntry");function dynCall(o,s,a){return o.includes("j")?dynCallLegacy(o,s,a):getWasmTableEntry(s).apply(null,a)}u(dynCall,"dynCall");function createInvokeFunction(o){return function(){var s=stackSave();try{return dynCall(o,arguments[0],Array.prototype.slice.call(arguments,1))}catch(a){if(stackRestore(s),a!==a+0)throw a;_setThrew(1,0)}}}u(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(o,s){return HEAPU8.fill(0,o,o+s),o}u(zeroMemory,"zeroMemory");function getMemory(o){if(runtimeInitialized)return zeroMemory(_malloc(o),o);var s=___heap_base,a=s+o+15&-16;return ___heap_base=a,GOT.__heap_base.value=a,s}u(getMemory,"getMemory");function isInternalSym(o){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(o)}u(isInternalSym,"isInternalSym");function uleb128Encode(o,s){o<128?s.push(o):s.push(o%128|128,o>>7)}u(uleb128Encode,"uleb128Encode");function sigToWasmTypes(o){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},a={parameters:[],results:o[0]=="v"?[]:[s[o[0]]]},c=1;c<o.length;++c)a.parameters.push(s[o[c]]),o[c]==="j"&&a.parameters.push("i32");return a}u(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(o,s){var a=o.slice(0,1),c=o.slice(1),d={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var _=0;_<c.length;++_)s.push(d[c[_]]);a=="v"?s.push(0):s.push(1,d[a])}u(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(o,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),o);var a=[1];generateFuncType(s,a);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(a.length,c),c.push.apply(c,a),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(d,{e:{f:o}}).exports.f}u(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(o,s){if(functionsInTableMap)for(var a=o;a<o+s;a++){var c=getWasmTableEntry(a);c&&functionsInTableMap.set(c,a)}}u(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(o){throw o instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":o}return wasmTable.length-1}u(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(o,s){wasmTable.set(o,s),wasmTableMirror[o]=wasmTable.get(o)}u(setWasmTableEntry,"setWasmTableEntry");function addFunction(o,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(o))return functionsInTableMap.get(o);var a=getEmptyTableSlot();try{setWasmTableEntry(a,o)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(a,convertJsFunctionToWasm(o,s))}return functionsInTableMap.set(o,a),a}u(addFunction,"addFunction");function updateGOT(o,s){for(var a in o)if(!isInternalSym(a)){var c=o[a];a.startsWith("orig$")&&(a=a.split("$")[1],s=!0),GOT[a]||(GOT[a]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[a].value==0)&&(typeof c=="function"?GOT[a].value=addFunction(c):typeof c=="number"?GOT[a].value=c:err("unhandled export type for `"+a+"`: "+typeof c))}}u(updateGOT,"updateGOT");function relocateExports(o,s,a){var c={};for(var d in o){var _=o[d];typeof _=="object"&&(_=_.value),typeof _=="number"&&(_+=s),c[d]=_}return updateGOT(c,a),c}u(relocateExports,"relocateExports");function resolveGlobalSymbol(o,s){var a;return s&&(a=asmLibraryArg["orig$"+o]),a||(a=asmLibraryArg[o])&&a.stub&&(a=void 0),a||(a=Module[asmjsMangle(o)]),!a&&o.startsWith("invoke_")&&(a=createInvokeFunction(o.split("_")[1])),a}u(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(o,s){return Math.ceil(o/s)*s}u(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(o){var s=resolveGlobalSymbol(o,!1);return s||(s=moduleExports[o]),s}u(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(o,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var a;return s in o||(o[s]=function(){return a||(a=resolveSymbol(s)),a.apply(null,arguments)}),o[s]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(u(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(u(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(o){return postInstantiation(o.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return u(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(o,s){return o.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(o){loadDynamicLibrary(o,flags)}),loadModule())}u(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(o,s,a){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[o];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,o)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,a&&(LDSO.loadedLibsByHandle[a]=c),!s.loadAsync||Promise.resolve(!0);function d(p){if(s.fs&&s.fs.findObject(p)){var m=s.fs.readFile(p,{encoding:"binary"});return m instanceof Uint8Array||(m=new Uint8Array(m)),s.loadAsync?Promise.resolve(m):m}if(p=locateFile(p),s.loadAsync)return new Promise(function(h,g){readAsync(p,b=>h(new Uint8Array(b)),g)});if(!readBinary)throw new Error(p+": file not found, and synchronous loading of external files is not available");return readBinary(p)}u(d,"n");function _(){if(typeof preloadedWasm<"u"&&preloadedWasm[o]){var p=preloadedWasm[o];return s.loadAsync?Promise.resolve(p):p}return s.loadAsync?d(o).then(function(m){return loadWebAssemblyModule(m,s,a)}):loadWebAssemblyModule(d(o),s,a)}u(_,"s");function f(p){c.global&&mergeLibSymbols(p,o),c.module=p}return u(f,"a"),c={refcount:s.nodelete?1/0:1,name:o,module:"loading",global:s.global},LDSO.loadedLibsByName[o]=c,a&&(LDSO.loadedLibsByHandle[a]=c),s.loadAsync?_().then(function(p){return f(p),!0}):(f(_()),!0)}u(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var o in GOT)if(GOT[o].value==0){var s=resolveGlobalSymbol(o,!0);if(!s&&!GOT[o].required)continue;if(typeof s=="function")GOT[o].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+o+"`: "+typeof s);GOT[o].value=s}}}u(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(o,s){return o.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}u(preloadDylibs,"preloadDylibs");function setValue(o,s,a="i8"){switch(a.endsWith("*")&&(a="*"),a){case"i1":case"i8":HEAP8[o>>0]=s;break;case"i16":HEAP16[o>>1]=s;break;case"i32":HEAP32[o>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1];break;case"float":HEAPF32[o>>2]=s;break;case"double":HEAPF64[o>>3]=s;break;case"*":HEAPU32[o>>2]=s;break;default:abort("invalid type for setValue: "+a)}}u(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}u(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}u(_abort,"_abort");function _emscripten_date_now(){return Date.now()}u(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(o,s,a){HEAPU8.copyWithin(o,s,s+a)}u(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}u(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(o){try{return wasmMemory.grow(o-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}u(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(o){var s=HEAPU8.length;o>>>=0;var a=getHeapMax();if(o>a)return!1;for(var c=1;c<=4;c*=2){var d=s*(1+.2/c);if(d=Math.min(d,o+100663296),emscripten_realloc_buffer(Math.min(a,(_=Math.max(o,d))+((f=65536)-_%f)%f)))return!0}var _,f;return!1}u(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(o,s,a){if(PATH.isAbs(s))return s;var c;if(o===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(o).path,s.length==0){if(!a)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},doStat:function(o,s,a){try{var c=o(s)}catch(p){if(p&&p.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(p.node)))return-54;throw p}HEAP32[a>>2]=c.dev,HEAP32[a+8>>2]=c.ino,HEAP32[a+12>>2]=c.mode,HEAPU32[a+16>>2]=c.nlink,HEAP32[a+20>>2]=c.uid,HEAP32[a+24>>2]=c.gid,HEAP32[a+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a+40>>2]=tempI64[0],HEAP32[a+44>>2]=tempI64[1],HEAP32[a+48>>2]=4096,HEAP32[a+52>>2]=c.blocks;var d=c.atime.getTime(),_=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a+56>>2]=tempI64[0],HEAP32[a+60>>2]=tempI64[1],HEAPU32[a+64>>2]=d%1e3*1e3,tempI64=[Math.floor(_/1e3)>>>0,(tempDouble=Math.floor(_/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a+72>>2]=tempI64[0],HEAP32[a+76>>2]=tempI64[1],HEAPU32[a+80>>2]=_%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a+88>>2]=tempI64[0],HEAP32[a+92>>2]=tempI64[1],HEAPU32[a+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a+104>>2]=tempI64[0],HEAP32[a+108>>2]=tempI64[1],0},doMsync:function(o,s,a,c,d){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var _=HEAPU8.slice(o,o+a);FS.msync(s,_,d,a,c)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(o){return UTF8ToString(o)},getStreamFromFD:function(o){var s=FS.getStream(o);if(!s)throw new FS.ErrnoError(8);return s}};function _proc_exit(o){EXITSTATUS=o,keepRuntimeAlive()||(Module.onExit&&Module.onExit(o),ABORT=!0),quit_(o,new ExitStatus(o))}u(_proc_exit,"_proc_exit");function exitJS(o,s){EXITSTATUS=o,_proc_exit(o)}u(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(o){try{var s=SYSCALLS.getStreamFromFD(o);return FS.close(s),0}catch(a){if(typeof FS>"u"||!(a instanceof FS.ErrnoError))throw a;return a.errno}}u(_fd_close,"_fd_close");function convertI32PairToI53Checked(o,s){return s+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*s:NaN}u(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(o,s,a,c,d){try{var _=convertI32PairToI53Checked(s,a);if(isNaN(_))return 61;var f=SYSCALLS.getStreamFromFD(o);return FS.llseek(f,_,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],f.getdents&&_===0&&c===0&&(f.getdents=null),0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}u(_fd_seek,"_fd_seek");function doWritev(o,s,a,c){for(var d=0,_=0;_<a;_++){var f=HEAPU32[s>>2],p=HEAPU32[s+4>>2];s+=8;var m=FS.write(o,HEAP8,f,p,c);if(m<0)return-1;d+=m,c!==void 0&&(c+=m)}return d}u(doWritev,"doWritev");function _fd_write(o,s,a,c){try{var d=doWritev(SYSCALLS.getStreamFromFD(o),s,a);return HEAPU32[c>>2]=d,0}catch(_){if(typeof FS>"u"||!(_ instanceof FS.ErrnoError))throw _;return _.errno}}u(_fd_write,"_fd_write");function _tree_sitter_log_callback(o,s){if(currentLogCallback){let a=UTF8ToString(s);currentLogCallback(a,o!==0)}}u(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(o,s,a,c,d){var _=currentParseCallback(s,{row:a,column:c});typeof _=="string"?(setValue(d,_.length,"i32"),stringToUTF16(_,o,10240)):setValue(d,0,"i32")}u(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(o){if(o instanceof ExitStatus||o=="unwind")return EXITSTATUS;quit_(1,o)}u(handleException,"handleException");function allocateUTF8OnStack(o){var s=lengthBytesUTF8(o)+1,a=stackAlloc(s);return stringToUTF8Array(o,HEAP8,a,s),a}u(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(o,s,a){if(a===void 0&&(a=2147483647),a<2)return 0;for(var c=s,d=(a-=2)<2*o.length?a/2:o.length,_=0;_<d;++_){var f=o.charCodeAt(_);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}u(stringToUTF16,"stringToUTF16");function AsciiToString(o){for(var s="";;){var a=HEAPU8[o++>>0];if(!a)return s;s+=String.fromCharCode(a)}}u(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(o){var s=Module._main;if(s){(o=o||[]).unshift(thisProgram);var a=o.length,c=stackAlloc(4*(a+1)),d=c>>2;o.forEach(f=>{HEAP32[d++]=allocateUTF8OnStack(f)}),HEAP32[d]=0;try{var _=s(a,c);return exitJS(_,!0),_}catch(f){return handleException(f)}}}u(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=u(function o(){calledRun||run(),calledRun||(dependenciesFulfilled=o)},"e");var dylibsLoaded=!1;function run(o){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(o),postRun()))}u(s,"t"),o=o||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(u(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let n=class n{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let a;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{a=s[0];let c=C._ts_language_version(a);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else a=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],a),this}getLanguage(){return this.language}parse(s,a,c){if(typeof s=="string")currentParseCallback=u((m,h,g)=>s.slice(m,g),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,_=0;if(c&&c.includedRanges){d=c.includedRanges.length,_=C._calloc(d,SIZE_OF_RANGE);let m=_;for(let h=0;h<d;h++)marshalRange(m,c.includedRanges[h]),m+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],a?a[0]:0,_,d);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let p=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,p}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};u(n,"ParserImpl");let ParserImpl=n,e=class e{constructor(s,a,c,d){assertInternal(s),this[0]=a,this.language=c,this.textCallback=d}copy(){let s=C._ts_tree_copy(this[0]);return new e(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==e)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(a);if(a>0){let _=c;for(let f=0;f<a;f++)d[f]=unmarshalRange(_),_+=SIZE_OF_RANGE;C._free(c)}return d}};u(e,"Tree");let Tree=e,t=class t{constructor(s,a){assertInternal(s),this.tree=a}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let a=this.tree.language.fields.indexOf(s);if(a!==-1)return this.childForFieldId(a)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=a;for(let d=0;d<s;d++)this._children[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(a)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=a;for(let d=0;d<s;d++)this._namedChildren[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(a)}}return this._namedChildren}descendantsOfType(s,a,c){Array.isArray(s)||(s=[s]),a||(a=ZERO_POINT),c||(c=ZERO_POINT);let d=[],_=this.tree.language.types;for(let g=0,b=_.length;g<b;g++)s.includes(_[g])&&d.push(g);let f=C._malloc(SIZE_OF_INT*d.length);for(let g=0,b=d.length;g<b;g++)setValue(f+g*SIZE_OF_INT,d[g],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,d.length,a.row,a.column,c.row,c.column);let p=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=new Array(p);if(p>0){let g=m;for(let b=0;b<p;b++)h[b]=unmarshalNode(this.tree,g),g+=SIZE_OF_NODE}return C._free(m),C._free(f),h}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,a=s){if(typeof s!="number"||typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,a,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,a=s){if(typeof s!="number"||typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,a,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,a=s){if(!isPoint(s)||!isPoint(a))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,a),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,a=s){if(!isPoint(s)||!isPoint(a))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,a),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),a=AsciiToString(s);return C._free(s),a}};u(t,"Node");let Node=t,r=class r{constructor(s,a){assertInternal(s),this.tree=a,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),a=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,a)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};u(r,"TreeCursor");let TreeCursor=r,i=class i{constructor(s,a){assertInternal(s),this[0]=a,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,d=this.types.length;c<d;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,d=this.fields.length;c<d;c++){let _=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=_!==0?UTF8ToString(_):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let a=this.fields.indexOf(s);return a!==-1?a:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,a){let c=lengthBytesUTF8(s),d=C._malloc(c+1);stringToUTF8(s,d,c+1);let _=C._ts_language_symbol_for_name(this[0],d,c,a);return C._free(d),_||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let a=C._ts_language_symbol_name(this[0],s);return a?UTF8ToString(a):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let a=lengthBytesUTF8(s),c=C._malloc(a+1);stringToUTF8(s,c,a+1);let d=C._ts_query_new(this[0],c,a,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let S=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),I=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,L=s.substr(I,100).split(`
`)[0],y,M=L.match(QUERY_WORD_REGEX)[0];switch(S){case 2:y=new RangeError(`Bad node name '${M}'`);break;case 3:y=new RangeError(`Bad field name '${M}'`);break;case 4:y=new RangeError(`Bad capture name @${M}`);break;case 5:y=new TypeError(`Bad pattern structure at offset ${I}: '${L}'...`),M="";break;default:y=new SyntaxError(`Bad syntax at offset ${I}: '${L}'...`),M=""}throw y.index=I,y.length=M.length,C._free(c),y}let _=C._ts_query_string_count(d),f=C._ts_query_capture_count(d),p=C._ts_query_pattern_count(d),m=new Array(f),h=new Array(_);for(let S=0;S<f;S++){let I=C._ts_query_capture_name_for_id(d,S,TRANSFER_BUFFER),L=getValue(TRANSFER_BUFFER,"i32");m[S]=UTF8ToString(I,L)}for(let S=0;S<_;S++){let I=C._ts_query_string_value_for_id(d,S,TRANSFER_BUFFER),L=getValue(TRANSFER_BUFFER,"i32");h[S]=UTF8ToString(I,L)}let g=new Array(p),b=new Array(p),T=new Array(p),w=new Array(p),v=new Array(p);for(let S=0;S<p;S++){let I=C._ts_query_predicates_for_pattern(d,S,TRANSFER_BUFFER),L=getValue(TRANSFER_BUFFER,"i32");w[S]=[],v[S]=[];let y=[],M=I;for(let V=0;V<L;V++){let pe=getValue(M,"i32");M+=SIZE_OF_INT;let me=getValue(M,"i32");if(M+=SIZE_OF_INT,pe===PREDICATE_STEP_TYPE_CAPTURE)y.push({type:"capture",name:m[me]});else if(pe===PREDICATE_STEP_TYPE_STRING)y.push({type:"string",value:h[me]});else if(y.length>0){if(y[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Z=y[0].value,$=!0;switch(Z){case"not-eq?":$=!1;case"eq?":if(y.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(y.length-1));if(y[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${y[1].value}"`);if(y[2].type==="capture"){let oe=y[1].name,xe=y[2].name;v[S].push(function(hn){let Ie,gn;for(let ht of hn)ht.name===oe&&(Ie=ht.node),ht.name===xe&&(gn=ht.node);return Ie===void 0||gn===void 0||Ie.text===gn.text===$})}else{let oe=y[1].name,xe=y[2].value;v[S].push(function(hn){for(let Ie of hn)if(Ie.name===oe)return Ie.node.text===xe===$;return!0})}break;case"not-match?":$=!1;case"match?":if(y.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${y.length-1}.`);if(y[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${y[1].value}".`);if(y[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${y[2].value}.`);let K=y[1].name,Me=new RegExp(y[2].value);v[S].push(function(oe){for(let xe of oe)if(xe.name===K)return Me.test(xe.node.text)===$;return!0});break;case"set!":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(oe=>oe.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');g[S]||(g[S]={}),g[S][y[1].value]=y[2]?y[2].value:null;break;case"is?":case"is-not?":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#${Z}\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(oe=>oe.type!=="string"))throw new Error(`Arguments to \`#${Z}\` predicate must be a strings.".`);let mn=Z==="is?"?b:T;mn[S]||(mn[S]={}),mn[S][y[1].value]=y[2]?y[2].value:null;break;default:w[S].push({operator:Z,operands:y.slice(1)})}y.length=0}}Object.freeze(g[S]),Object.freeze(b[S]),Object.freeze(T[S])}return C._free(c),new Query(INTERNAL,d,m,v,w,Object.freeze(g),Object.freeze(b),Object.freeze(T))}static load(s){let a;if(s instanceof Uint8Array)a=Promise.resolve(s);else{let d=s;if(typeof process<"u"&&process.versions&&process.versions.node){let _=require("fs");a=Promise.resolve(_.readFileSync(d))}else a=fetch(d).then(_=>_.arrayBuffer().then(f=>{if(_.ok)return new Uint8Array(f);{let p=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${_.status}.

${p}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return a.then(d=>c(d,{loadAsync:!0})).then(d=>{let _=Object.keys(d),f=_.find(m=>LANGUAGE_FUNCTION_REGEX.test(m)&&!m.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(_,null,2)}`);let p=d[f]();return new i(INTERNAL,p)})}};u(i,"Language");let Language=i,l=class l{constructor(s,a,c,d,_,f,p,m){assertInternal(s),this[0]=a,this.captureNames=c,this.textPredicates=d,this.predicates=_,this.setProperties=f,this.assertedProperties=p,this.refutedProperties=m,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,a,c,d){a||(a=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let _=d.matchLimit;if(_===void 0)_=0;else if(typeof _!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],a.row,a.column,c.row,c.column,_);let f=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=new Array(f);this.exceededMatchLimit=!!m;let g=0,b=p;for(let T=0;T<f;T++){let w=getValue(b,"i32");b+=SIZE_OF_INT;let v=getValue(b,"i32");b+=SIZE_OF_INT;let S=new Array(v);if(b=unmarshalCaptures(this,s.tree,b,S),this.textPredicates[w].every(I=>I(S))){h[g++]={pattern:w,captures:S};let I=this.setProperties[w];I&&(h[T].setProperties=I);let L=this.assertedProperties[w];L&&(h[T].assertedProperties=L);let y=this.refutedProperties[w];y&&(h[T].refutedProperties=y)}}return h.length=g,C._free(p),h}captures(s,a,c,d){a||(a=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let _=d.matchLimit;if(_===void 0)_=0;else if(typeof _!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],a.row,a.column,c.row,c.column,_);let f=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=[];this.exceededMatchLimit=!!m;let g=[],b=p;for(let T=0;T<f;T++){let w=getValue(b,"i32");b+=SIZE_OF_INT;let v=getValue(b,"i32");b+=SIZE_OF_INT;let S=getValue(b,"i32");if(b+=SIZE_OF_INT,g.length=v,b=unmarshalCaptures(this,s.tree,b,g),this.textPredicates[w].every(I=>I(g))){let I=g[S],L=this.setProperties[w];L&&(I.setProperties=L);let y=this.assertedProperties[w];y&&(I.assertedProperties=y);let M=this.refutedProperties[w];M&&(I.refutedProperties=M),h.push(I)}}return C._free(p),h}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};u(l,"Query");let Query=l;function getText(o,s,a){let c=a-s,d=o.textCallback(s,null,a);for(s+=d.length;s<a;){let _=o.textCallback(s,null,a);if(!(_&&_.length>0))break;s+=_.length,d+=_}return s>a&&(d=d.slice(0,c)),d}u(getText,"getText");function unmarshalCaptures(o,s,a,c){for(let d=0,_=c.length;d<_;d++){let f=getValue(a,"i32"),p=unmarshalNode(s,a+=SIZE_OF_INT);a+=SIZE_OF_NODE,c[d]={name:o.captureNames[f],node:p}}return a}u(unmarshalCaptures,"unmarshalCaptures");function assertInternal(o){if(o!==INTERNAL)throw new Error("Illegal constructor")}u(assertInternal,"assertInternal");function isPoint(o){return o&&typeof o.row=="number"&&typeof o.column=="number"}u(isPoint,"isPoint");function marshalNode(o){let s=TRANSFER_BUFFER;setValue(s,o.id,"i32"),s+=SIZE_OF_INT,setValue(s,o.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,o.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,o.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,o[0],"i32")}u(marshalNode,"marshalNode");function unmarshalNode(o,s=TRANSFER_BUFFER){let a=getValue(s,"i32");if(a===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),_=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),p=new Node(INTERNAL,o);return p.id=a,p.startIndex=c,p.startPosition={row:d,column:_},p[0]=f,p}u(unmarshalNode,"unmarshalNode");function marshalTreeCursor(o,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,o[0],"i32"),setValue(s+1*SIZE_OF_INT,o[1],"i32"),setValue(s+2*SIZE_OF_INT,o[2],"i32")}u(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(o){o[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),o[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),o[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}u(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(o,s){setValue(o,s.row,"i32"),setValue(o+SIZE_OF_INT,s.column,"i32")}u(marshalPoint,"marshalPoint");function unmarshalPoint(o){return{row:getValue(o,"i32"),column:getValue(o+SIZE_OF_INT,"i32")}}u(unmarshalPoint,"unmarshalPoint");function marshalRange(o,s){marshalPoint(o,s.startPosition),marshalPoint(o+=SIZE_OF_POINT,s.endPosition),setValue(o+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(o+=SIZE_OF_INT,s.endIndex,"i32"),o+=SIZE_OF_INT}u(marshalRange,"marshalRange");function unmarshalRange(o){let s={};return s.startPosition=unmarshalPoint(o),o+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(o),o+=SIZE_OF_POINT,s.startIndex=getValue(o,"i32"),o+=SIZE_OF_INT,s.endIndex=getValue(o,"i32"),s}u(unmarshalRange,"unmarshalRange");function marshalEdit(o){let s=TRANSFER_BUFFER;marshalPoint(s,o.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,o.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,o.newEndPosition),s+=SIZE_OF_POINT,setValue(s,o.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,o.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,o.newEndIndex,"i32"),s+=SIZE_OF_INT}u(marshalEdit,"marshalEdit");for(let o of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,o,{value:ParserImpl.prototype[o],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};u(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function ft(n){return n in Kr}function pt(n){if(!(n in Kr))throw new Error(`Unrecognized language: ${n}`);return Kr[n]}async function Ml(n){let e,t=an.default.resolve(an.default.extname(__filename)!==".ts"?__dirname:an.default.resolve(__dirname,"../../dist"),`tree-sitter-${n}.wasm`);try{e=await _i.promises.readFile(t)}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let i=new Error(`Could not load tree-sitter-${n}.wasm`);throw i.code="CopilotPromptLoadFailure",i.cause=r,i}throw r}return ln.default.Language.load(e)}async function pi(n){let e=pt(n);if(!$r.has(e)){let t=await Ml(e);$r.set(e,t)}return $r.get(e)}async function un(n,e){await ln.default.init();let t;try{t=new ln.default}catch(l){let o=l.message;if(o&&o.includes("table index is out of bounds")){let s=new Error(`Could not init Parse for language <${n}>`);throw s.cause=l,s}throw l}let r=await pi(n);t.setLanguage(r);let i=t.parse(e);return t.delete(),i}function xl(n){switch(pt(n)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}function Il(n,e){let t=[];for(let r of n){if(!r[1]){let i=e.tree.getLanguage();r[1]=i.query(r[0])}t.push(...r[1].matches(e))}return t}function Xr(n){return Il([Ll],n).length==1}var _i,an,ln,fi,Kr,$r,Ll,Jr=x(()=>{"use strict";_i=require("fs"),an=Ze(require("path")),ln=Ze(di()),fi=(o=>(o.Python="python",o.JavaScript="javascript",o.TypeScript="typescript",o.TSX="tsx",o.Go="go",o.Ruby="ruby",o))(fi||{}),Kr={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};u(ft,"isSupportedLanguageId");u(pt,"languageIdToWasmLanguage");$r=new Map;u(Ml,"loadWasmLanguage");u(pi,"getLanguage");u(un,"parseTreeSitter");u(xl,"getBlockCloseToken");u(Il,"innerQuery");Ll=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];u(Xr,"queryPythonIsDocstring")});function kl(n,e){let t=n.lastIndexOf(`
`,e-1),r=n.indexOf(`
`,e);return r<0&&(r=n.length),n.slice(t+1,r)}function hi(n,e){let t=e;for(;t>0&&/\s/.test(n.charAt(t-1));)t--;return t}function mi(n,e){let t=n.startIndex,r=n.startIndex-n.startPosition.column,i=e.substring(r,t);if(/^\s*$/.test(i))return i}function Pl(n,e,t){if(e.startPosition.row<=n.startPosition.row)return!1;let r=mi(n,t),i=mi(e,t);return r!==void 0&&i!==void 0&&r.startsWith(i)}function _n(n){return Nl[pt(n)]}async function Cl(n,e,t){return ft(n)?_n(n).isEmptyBlockStart(e,t):!1}async function Al(n,e,t,r){if(ft(n))return _n(n).isBlockBodyFinished(e,t,r)}async function Fl(n,e,t){if(ft(n))return _n(n).getNodeStart(e,t)}var Qr,cn,Yr,dn,eo,qe,Nl,gi=x(()=>{"use strict";Jr();Qr=class Qr{constructor(e,t,r){this.languageId=e;this.nodeMatch=t;this.nodeTypesWithBlockOrStmtChild=r}async getNodeMatchAtPosition(e,t,r){let i=await un(this.languageId,e);try{let o=i.rootNode.descendantForIndex(t);for(;o;){let s=this.nodeMatch[o.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(o.type))break;let a=this.nodeTypesWithBlockOrStmtChild.get(o.type),c=a==""?o.namedChildren[0]:o.childForFieldName(a);if((c==null?void 0:c.type)==s)break}o=o.parent}return o?r(o):void 0}finally{i.delete()}}getNextBlockAtPosition(e,t,r){return this.getNodeMatchAtPosition(e,t,i=>{let l=i.children.reverse().find(o=>o.type==this.nodeMatch[i.type]);if(l){if(this.languageId=="python"&&l.parent){let o=l.parent.type==":"?l.parent.parent:l.parent,s=o==null?void 0:o.nextSibling;for(;s&&s.type=="comment";){let a=s.startPosition.row==l.endPosition.row&&s.startPosition.column>=l.endPosition.column,c=s.startPosition.row>o.endPosition.row&&s.startPosition.column>o.startPosition.column;if(a||c)l=s,s=s.nextSibling;else break}}if(!(l.endIndex>=l.tree.rootNode.endIndex-1&&(l.hasError()||l.parent.hasError())))return r(l)}})}async isBlockBodyFinished(e,t,r){let i=(e+t).trimEnd(),l=await this.getNextBlockAtPosition(i,r,o=>o.endIndex);if(l!==void 0&&l<i.length){let o=l-e.length;return o>0?o:void 0}}getNodeStart(e,t){let r=e.trimEnd();return this.getNodeMatchAtPosition(r,t,i=>i.startIndex)}};u(Qr,"BaseBlockParser");cn=Qr,Yr=class Yr extends cn{constructor(t,r,i,l,o){super(t,l,o);this.blockEmptyMatch=r;this.lineMatch=i}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let i=await this.getNextBlockAtPosition(t,r,l=>{l.startIndex<r&&(r=l.startIndex);let o=t.substring(r,l.endIndex).trim();return o==""||o.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(t,r){return r=hi(t,r),this.isBlockStart(kl(t,r))&&this.isBlockBodyEmpty(t,r)}};u(Yr,"RegexBasedBlockParser");dn=Yr;u(kl,"getLineAtOffset");u(hi,"rewindToNearestNonWs");u(mi,"indent");u(Pl,"outdented");eo=class eo extends cn{constructor(t,r,i,l,o,s,a){super(t,r,i);this.startKeywords=l;this.blockNodeType=o;this.emptyStatementType=s;this.curlyBraceLanguage=a}isBlockEmpty(t,r){var l,o;let i=t.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((l=t.parent)==null?void 0:l.type)=="class_definition"||((o=t.parent)==null?void 0:o.type)=="function_definition")&&t.children.length==1&&Xr(t.parent))}async isEmptyBlockStart(t,r){var l,o,s,a;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=hi(t,r);let i=await un(this.languageId,t);try{let c=i.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let m=c;for(;m.parent;){if(m.type=="function_signature"||m.type=="method_signature"){let h=c.nextSibling;return h&&m.hasError()&&Pl(m,h,t)?!0:!m.children.find(b=>b.type==";")&&m.endIndex<=r}m=m.parent}}let d=null,_=null,f=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){_=p;break}if(this.nodeMatch[p.type]){f=p;break}if(p.type=="ERROR"){d=p;break}p=p.parent}if(_!=null){if(!_.parent||!this.nodeMatch[_.parent.type])return!1;if(this.languageId=="python"){let m=_.previousSibling;if(m!=null&&m.hasError()&&(m.text.startsWith('"""')||m.text.startsWith("'''")))return!0}return this.isBlockEmpty(_,r)}if(d!=null){if(((l=d.previousSibling)==null?void 0:l.type)=="module"||((o=d.previousSibling)==null?void 0:o.type)=="internal_module"||((s=d.previousSibling)==null?void 0:s.type)=="def")return!0;let m=[...d.children].reverse(),h=m.find(b=>this.startKeywords.includes(b.type)),g=m.find(b=>b.type==this.blockNodeType);if(h){switch(this.languageId){case"python":{h.type=="try"&&c.type=="identifier"&&c.text.length>4&&(g=(a=m.find(w=>w.hasError()))==null?void 0:a.children.find(w=>w.type=="block"));let b,T=0;for(let w of d.children){if(w.type==":"&&T==0){b=w;break}w.type=="("&&(T+=1),w.type==")"&&(T-=1)}if(b&&h.endIndex<=b.startIndex&&b.nextSibling){if(h.type=="def"){let w=b.nextSibling;if(w.type=='"'||w.type=="'"||w.type=="ERROR"&&(w.text=='"""'||w.text=="'''"))return!0}return!1}break}case"javascript":{let b=m.find(v=>v.type=="formal_parameters");if(h.type=="class"&&b)return!0;let T=m.find(v=>v.type=="{");if(T&&T.startIndex>h.endIndex&&T.nextSibling!=null||m.find(v=>v.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}case"typescript":{let b=m.find(w=>w.type=="{");if(b&&b.startIndex>h.endIndex&&b.nextSibling!=null||m.find(w=>w.type=="do")&&h.type=="while"||h.type=="=>"&&h.nextSibling&&h.nextSibling.type!="{")return!1;break}}return g&&g.startIndex>h.endIndex?this.isBlockEmpty(g,r):!0}}if(f!=null){let m=this.nodeMatch[f.type],h=f.children.slice().reverse().find(g=>g.type==m);if(h)return this.isBlockEmpty(h,r);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let g=this.nodeTypesWithBlockOrStmtChild.get(f.type),b=g==""?f.children[0]:f.childForFieldName(g);if(b&&b.type!=this.blockNodeType&&b.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};u(eo,"TreeSitterBasedBlockParser");qe=eo,Nl={python:new qe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new qe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new qe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new qe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new dn("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new dn("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};u(_n,"getBlockParser");u(Cl,"isEmptyBlockStart");u(Al,"isBlockBodyFinished");u(Fl,"getNodeStart")});var yi={};xi(yi,{DEFAULT_MAX_COMPLETION_LENGTH:()=>$s,DEFAULT_MAX_PROMPT_LENGTH:()=>Ks,DEFAULT_NUM_SNIPPETS:()=>Xs,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>Qs,DEFAULT_SUFFIX_PERCENT:()=>hl,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>ps,ElidableText:()=>at,LineEndingOptions:()=>Mr,LineWithValueAndCost:()=>We,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>Js,PromptOptions:()=>Qt,ProviderTimeoutError:()=>fe,SnippetOrchestrator:()=>sn,SnippetProviderType:()=>te,SnippetSemantics:()=>ve,SuffixMatchOption:()=>ei,SuffixOption:()=>Ys,TTokenizer:()=>kt,TokenizerName:()=>Pt,WASMLanguage:()=>fi,blankNode:()=>Ct,buildLabelRules:()=>De,clearLabels:()=>es,clearLabelsIf:()=>ir,combineClosersAndOpeners:()=>At,comment:()=>ut,commentBlockAsSingles:()=>ze,createWorker:()=>Ol,cutTreeAfterLine:()=>ka,deparseAndCutTree:()=>Ua,deparseLine:()=>st,deparseTree:()=>as,describeTree:()=>ls,duplicateTree:()=>Pa,elidableTextForDiff:()=>Ja,elidableTextForSourceCode:()=>ur,encodeTree:()=>us,firstLineOf:()=>cs,flattenVirtual:()=>ee,foldTree:()=>nt,fromTreeWithFocussedLines:()=>Ue,fromTreeWithValuedLines:()=>ms,getBlockCloseToken:()=>xl,getBlockParser:()=>_n,getCursorContext:()=>Ut,getLanguage:()=>pi,getNodeStart:()=>Fl,getPrompt:()=>bl,getTokenizer:()=>q,groupBlocks:()=>ar,isBlank:()=>P,isBlockBodyFinished:()=>Al,isEmptyBlockStart:()=>Cl,isLine:()=>G,isSupportedLanguageId:()=>ft,isTop:()=>ce,isVirtual:()=>z,labelLines:()=>Re,labelVirtualInherited:()=>ot,languageCommentMarkers:()=>gr,languageIdToWasmLanguage:()=>pt,lastLineOf:()=>ds,lineNode:()=>sr,mapLabels:()=>Y,normalizeLanguageId:()=>_e,parseRaw:()=>ts,parseTree:()=>de,parseTreeSitter:()=>un,providersErrors:()=>ui,providersPerformance:()=>ci,providersSnippets:()=>li,queryPythonIsDocstring:()=>Xr,rebuildTree:()=>rt,registerLanguageSpecificParser:()=>Ft,resetLineNumbers:()=>Na,resetSuffixCache:()=>ml,topNode:()=>tt,virtualNode:()=>Nt,visitTree:()=>A,visitTreeConditionally:()=>Ca});function Ol(){return new bi.Worker(fn.default.resolve(fn.default.extname(__filename)!==".ts"?__dirname:fn.default.resolve(__dirname,"../../dist"),"worker.js"),{workerData:{cwd:process.cwd()}})}var fn,bi,Zt=x(()=>{"use strict";fn=Ze(require("path")),bi=require("worker_threads");vs();it();Ee();Wr();Jr();gi();Ve();br();Nr();Xt();Se();Te();Fe();u(Ol,"createWorker")});Wn();var wi=(Zt(),Ii(yi)),{parentPort:mt,workerData:pn}=require("worker_threads");pn!=null&&pn.cwd&&(process.cwd=()=>pn.cwd);mt.on("message",async({id:n,fn:e,args:t})=>{try{if(e==="getPrompt"){let r=await wi.getPrompt(...t);mt.postMessage({id:n,res:r})}else{let r=await wi[e](...t);mt.postMessage({id:n,res:r})}}catch(r){if(!(r instanceof Error))throw r;typeof r.code=="string"?mt.postMessage({id:n,err:r,code:r.code}):mt.postMessage({id:n,err:r})}});
//# sourceMappingURL=worker.js.map
